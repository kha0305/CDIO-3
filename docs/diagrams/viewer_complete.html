<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S∆° ƒë·ªì Use Case - H·ªá th·ªëng QL Th∆∞ vi·ªán</title>
    <script src="https://cdn.jsdelivr.net/npm/plantuml-encoder@1.4.0/dist/plantuml-encoder.min.js"></script>
    <style>
        :root { --primary: #0ea5e9; --bg: #f8fafc; --text: #0f172a; }
        * { box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); padding: 20px; margin: 0; }
        .container { max-width: 1600px; margin: 0 auto; }
        h1 { text-align: center; color: #1e293b; margin-bottom: 30px; }
        .nav-bar { position: fixed; top: 0; left: 0; right: 0; background: rgba(255,255,255,0.98); backdrop-filter: blur(10px); padding: 10px 20px; border-bottom: 1px solid #e2e8f0; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); z-index: 1000; display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; }
        body { padding-top: 140px; }
        .nav-bar a { text-decoration: none; color: #64748b; font-weight: 600; padding: 6px 12px; border-radius: 6px; transition: all 0.2s; font-size: 0.85rem; }
        .nav-bar a:hover, .nav-bar a.active { background: var(--primary); color: white; }
        .nav-bar .sep { color: #cbd5e1; padding: 0 5px; }
        .section { background: white; border-radius: 16px; padding: 25px; margin-bottom: 40px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); scroll-margin-top: 90px; border: 1px solid #e2e8f0; }
        .section-header { border-bottom: 2px solid #f1f5f9; padding-bottom: 15px; margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 10px; }
        .section-title { font-size: 1.4rem; color: #1e293b; margin: 0; }
        .badge { padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; }
        .badge-reader { background: #dcfce7; color: #16a34a; }
        .badge-librarian { background: #dbeafe; color: #2563eb; }
        .badge-admin { background: #fef3c7; color: #d97706; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; }
        .card { background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 12px; padding: 15px; }
        .card:hover { border-color: var(--primary); }
        .card h4 { margin: 0 0 15px 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem; }
        img.plantuml-img { max-width: 100%; height: auto; display: block; margin: 0 auto; cursor: zoom-in; background: white; border-radius: 8px; }
        .lightbox { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 1000; justify-content: center; align-items: center; padding: 20px; }
        .lightbox.active { display: flex; }
        .lightbox img { max-width: 95%; max-height: 95vh; background: white; border-radius: 4px; cursor: grab; transform-origin: center; transition: transform 0.05s linear; user-select: none; }
        .lightbox img.grabbing { cursor: grabbing; }
        
        /* Copy buttons styling */
        .copy-btn, .copy-img-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .copy-btn {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
        }
        .copy-btn:hover {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
        }
        .copy-img-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            font-size: 0.75rem;
            padding: 4px 10px;
        }
        .copy-img-btn:hover {
            background: linear-gradient(135deg, #059669, #047857);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }
        .copy-btn:active, .copy-img-btn:active {
            transform: translateY(0);
        }
        .copy-btn.copied, .copy-img-btn.copied {
            background: linear-gradient(135deg, #22c55e, #16a34a) !important;
        }
        
        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            box-shadow: 0 4px 20px rgba(34, 197, 94, 0.4);
            z-index: 9999;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
        }
        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="lightbox" id="lightbox"><img id="lb-img" src="" draggable="false"></div>
    <div class="nav-bar">
        <a href="#uc-tong" class="active">T·ªïng qu√°t</a><span class="sep">|</span>
        <a href="#uc01">1.ƒêƒÉng k√Ω</a><a href="#uc02">2.ƒêƒÉng nh·∫≠p</a><a href="#uc03">3.ƒêƒÉng xu·∫•t</a><a href="#uc04">4.Qu√™n MK</a><a href="#uc05">5.Tra c·ª©u</a><a href="#uc06">6.Chi ti·∫øt</a><a href="#uc07">7.Gia h·∫°n</a><a href="#uc08">8.M∆∞·ª£n s√°ch</a><a href="#uc09">9.Tr·∫£ s√°ch</a><a href="#uc10">10.ƒê√°nh gi√°</a><a href="#uc11">11.Thanh to√°n</a><a href="#uc12">12.L·ªãch s·ª≠</a><a href="#uc13">13.C·∫≠p nh·∫≠t</a><span class="sep">|</span>
        <a href="#uc14">14.L·∫≠p phi·∫øu</a><a href="#uc15">15.QL S√°ch</a><a href="#uc16">16.QL B·∫°n ƒë·ªçc</a><a href="#uc17">17.TT S√°ch</a><a href="#uc18">18.Qu√° h·∫°n</a><a href="#uc19">19.Th·ªëng k√™</a><span class="sep">|</span>
        <a href="#uc20">20.QL TK</a><a href="#uc21">21.Ph√¢n quy·ªÅn</a><a href="#uc22">22.C·∫•u h√¨nh</a><a href="#uc23">23.B√°o c√°o</a>
    </div>
    <div class="container">
        <h1>S∆† ƒê·ªí USE CASE - H·ªÜ TH·ªêNG QU·∫¢N L√ù TH∆Ø VI·ªÜN</h1>

        <!-- UC T·ªîNG QU√ÅT -->
        <div id="uc-tong" class="section">
            <div class="section-header">
                <h2 class="section-title">S∆° ƒë·ªì Use Case T·ªïng qu√°t</h2>
                <label style="cursor: pointer; padding: 6px 12px; background: linear-gradient(135deg, #0ea5e9, #6366f1); color: white; border-radius: 6px; font-size: 0.85rem; font-weight: 600;">
                    üìÅ Import h√¨nh ·∫£nh
                    <input type="file" id="uc-tong-input" accept="image/*" style="display: none;" onchange="loadUCImage(event)">
                </label>
            </div>
            <div class="card">
                <img id="uc-tong-img" src="../../UC T·ªïng qu√°t.png" alt="UC T·ªïng qu√°t" style="max-width: 100%; height: auto; display: block; margin: 0 auto; cursor: zoom-in; min-height: 200px; background: #f1f5f9; border-radius: 8px;" onclick="openLightbox(this.src)" onerror="this.alt='Ch∆∞a c√≥ h√¨nh ·∫£nh - Click Import ƒë·ªÉ ch·ªçn file'; this.style.padding='40px';">
                <p style="text-align: center; color: #64748b; margin-top: 10px; font-size: 0.85rem;">Click Import h√¨nh ·∫£nh ƒë·ªÉ ch·ªçn file UC T·ªïng qu√°t t·ª´ m√°y c·ªßa b·∫°n</p>
            </div>
            
            <div style="margin-top: 30px; border-top: 2px solid #f1f5f9; padding-top: 20px;">
                 <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h2 class="section-title">S∆° ƒë·ªì Ng·ªØ c·∫£nh (Context Diagram)</h2>
                    <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                        Copy ·∫¢nh
                    </button>
                </div>
                <div class="card">
                    <img class="plantuml-img" data-uml='@startuml
title 2.2.3 Ho·∫°t ƒë·ªông c·ªßa h·ªá th·ªëng

skinparam backgroundColor white
skinparam arrowColor black
skinparam rectangleBackgroundColor white
skinparam rectangleBorderColor black
skinparam usecaseBackgroundColor white
skinparam usecaseBorderColor black
skinparam databaseBackgroundColor #4f9da6
skinparam databaseBorderColor black

rectangle "B·∫°n ƒë·ªçc" as User
rectangle "Admin" as Admin
database "CSDL" as DB
usecase "Website Qu·∫£n l√Ω\nTh∆∞ vi·ªán" as System

' Force Layout using hidden lines
User -[hidden]right- System
System -[hidden]right- DB
System -[hidden]down- Admin

' Data Flows (Separated lines)
User =right=> System : 1. Y√™u c·∫ßu (M∆∞·ª£n/Tr·∫£/Tra c·ª©u)
System =left=> User : 5. Ph·∫£n h·ªìi / K·∫øt qu·∫£

System =right=> DB : 3. Truy v·∫•n / C·∫≠p nh·∫≠t
DB =left=> System : 4. K·∫øt qu·∫£ d·ªØ li·ªáu

Admin =up=> System : 2. Qu·∫£n l√Ω / C·∫•u h√¨nh
System =down=> Admin : 6. B√°o c√°o / Th·ªëng k√™

@enduml'>
                </div>
            </div>
        </div>
        <script>
            function loadUCImage(event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const img = document.getElementById('uc-tong-img');
                        img.src = e.target.result;
                        img.alt = 'UC T·ªïng qu√°t';
                        img.style.padding = '0';
                        localStorage.setItem('ucTongQuatImage', e.target.result);
                    };
                    reader.readAsDataURL(file);
                }
            }
            
            // Scroll to top immediately
            if ('scrollRestoration' in history) {
                history.scrollRestoration = 'manual';
            }
            window.scrollTo(0, 0);
            
            // Also scroll after page fully loads
            window.addEventListener('load', function() {
                window.scrollTo(0, 0);
                setTimeout(function() {
                    window.scrollTo(0, 0);
                }, 100);
                
                // Clear hash from URL
                if (window.location.hash) {
                    history.replaceState(null, null, window.location.pathname);
                }
                
                // Load saved image
                const savedImage = localStorage.getItem('ucTongQuatImage');
                if (savedImage) {
                    const img = document.getElementById('uc-tong-img');
                    img.src = savedImage;
                    img.alt = 'UC T·ªïng qu√°t';
                    img.style.padding = '0';
                }
            });
            
            // Before leaving page, scroll to top
            window.addEventListener('beforeunload', function() {
                window.scrollTo(0, 0);
            });

            // Improved Scroll Spy using scroll event for better accuracy
            let isScrolling = false;
            
            window.addEventListener('scroll', () => {
                if (isScrolling) return;
                
                const sections = document.querySelectorAll('.section');
                const navLinks = document.querySelectorAll('.nav-bar a');
                
                // Adjust for fixed header height (approx 140px + extra buffer)
                const scrollPosition = window.scrollY + 180;
                
                let currentSection = '';
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.offsetHeight;
                    
                    if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                        currentSection = section.getAttribute('id');
                    }
                });
                
                // Active for T·ªïng qu√°t when at top
                if (window.scrollY < 100) {
                    currentSection = 'uc-tong';
                }

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === '#' + currentSection) {
                        link.classList.add('active');
                    }
                });
            });

            // Smooth scrolling when clicking links
            document.querySelectorAll('.nav-bar a').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    isScrolling = true; // Disable spy while scrolling
                    
                    const targetId = this.getAttribute('href').substring(1);
                    const targetSection = document.getElementById(targetId);
                    
                    // Remove active from all and add to clicked
                    document.querySelectorAll('.nav-bar a').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    if (targetSection) {
                        const headerOffset = 150;
                        const elementPosition = targetSection.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
        
                        window.scrollTo({
                            top: offsetPosition,
                            behavior: "smooth"
                        });
                        
                        // Re-enable spy after scroll finishes
                        setTimeout(() => {
                            isScrolling = false;
                        }, 1000);
                        
                        // Update URL hash without jumping
                        history.pushState(null, null, '#' + targetId);
                    }
                });
            });
        </script>


        <!-- UC01 -->
        <div id="uc01" class="section">
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC01: ƒêƒÉng k√Ω</h2>
                    <span class="badge badge-reader">B·∫°n ƒë·ªçc</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('ƒêƒÉng k√Ω')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc01-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng -->
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc01-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC001
                            <button onclick="copyText('UC001')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            ƒêƒÉng k√Ω
                            <button onclick="copyText('ƒêƒÉng k√Ω')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc
                            <button onclick="copyText('B·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác b·∫°n ƒë·ªçc ƒëƒÉng k√Ω t√†i kho·∫£n m·ªõi ƒë·ªÉ s·ª≠ d·ª•ng d·ªãch v·ª• th∆∞ vi·ªán
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác b·∫°n ƒë·ªçc ƒëƒÉng k√Ω t√†i kho·∫£n m·ªõi ƒë·ªÉ s·ª≠ d·ª•ng d·ªãch v·ª• th∆∞ vi·ªán')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Truy c·∫≠p trang ƒëƒÉng k√Ω<br>2. Nh·∫≠p th√¥ng tin c√° nh√¢n (h·ªç t√™n, email, m·∫≠t kh·∫©u)<br>3. Nh·∫•n n√∫t ƒêƒÉng k√Ω
                            <br><button onclick="copyText('1. Truy c·∫≠p trang ƒëƒÉng k√Ω\n2. Nh·∫≠p th√¥ng tin c√° nh√¢n (h·ªç t√™n, email, m·∫≠t kh·∫©u)\n3. Nh·∫•n n√∫t ƒêƒÉng k√Ω')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            4. Ki·ªÉm tra ƒë·ªãnh d·∫°ng th√¥ng tin<br>5. Ki·ªÉm tra email ƒë√£ t·ªìn t·∫°i ch∆∞a<br>6. T·∫°o t√†i kho·∫£n m·ªõi<br>7. Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng
                            <br><button onclick="copyText('4. Ki·ªÉm tra ƒë·ªãnh d·∫°ng th√¥ng tin\n5. Ki·ªÉm tra email ƒë√£ t·ªìn t·∫°i ch∆∞a\n6. T·∫°o t√†i kho·∫£n m·ªõi\n7. Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc ch∆∞a c√≥ t√†i kho·∫£n trong h·ªá th·ªëng
                            <button onclick="copyText('B·∫°n ƒë·ªçc ch∆∞a c√≥ t√†i kho·∫£n trong h·ªá th·ªëng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            T√†i kho·∫£n b·∫°n ƒë·ªçc ƒë∆∞·ª£c t·∫°o th√†nh c√¥ng
                            <button onclick="copyText('T√†i kho·∫£n b·∫°n ƒë·ªçc ƒë∆∞·ª£c t·∫°o th√†nh c√¥ng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
actor "B·∫°n ƒë·ªçc" as Reader
usecase "ƒêƒÉng k√Ω" as UC_Register
usecase "Email" as UC_Email
usecase "S·ªë ƒëi·ªán tho·∫°i" as UC_Phone

Reader -- UC_Register

UC_Register <.. UC_Email : <<extend>>
UC_Register <.. UC_Phone : <<extend>>
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| B·∫°n ƒë·ªçc
|UI| Giao di·ªán
|System| H·ªá th·ªëng

|User|
start
:Truy c·∫≠p trang ƒêƒÉng k√Ω;
|UI|
:Hi·ªÉn th·ªã form ƒëƒÉng k√Ω;
repeat
|User|
:Nh·∫≠p th√¥ng tin c√° nh√¢n;
:Nh·∫•n ƒêƒÉng k√Ω;
|System|
:Ki·ªÉm tra th√¥ng tin;
if (H·ª£p l·ªá v√† Ch∆∞a t·ªìn t·∫°i?) then (no)
  |UI|
  :Th√¥ng b√°o l·ªói;
  :Y√™u c·∫ßu nh·∫≠p l·∫°i;
else (yes)
  |System|
  :T·∫°o t√†i kho·∫£n m·ªõi;
  stop
endif
repeat while (Th·ª≠ l·∫°i)
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± ƒëƒÉng k√Ω
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "B·∫°n ƒë·ªçc" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o ƒëƒÉng k√Ω ==

activate User
User -> UI : Ch·ªçn ch·ª©c nƒÉng ƒëƒÉng k√Ω
activate UI
UI --> User : Hi·ªÉn th·ªã form ƒëƒÉng k√Ω
deactivate UI

User -> UI : Nh·∫≠p th√¥ng tin c√° nh√¢n
activate UI
User -> UI : G·ª≠i y√™u c·∫ßu ƒëƒÉng k√Ω

UI -> System : submitRegister(info)
activate System
System -> DB : checkUser(email)
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : submitRegister(info)Success()
    activate UI
    UI --> User : ƒêƒÉng k√Ω th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : submitRegister(info)Fail()
    activate UI
    UI --> User : Email ƒë√£ t·ªìn t·∫°i
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC02: ƒêƒÇNG NH·∫¨P -->
        <div id="uc02" class="section">
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC02: ƒêƒÉng nh·∫≠p</h2>
                    <span class="badge" style="background: #f3e8ff; color: #7c3aed;">Shared</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('ƒêƒÉng nh·∫≠p')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc02-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc02-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC002
                            <button onclick="copyText('UC002')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            ƒêƒÉng nh·∫≠p
                            <button onclick="copyText('ƒêƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc/ Th·ªß th∆∞/ Admin
                            <button onclick="copyText('B·∫°n ƒë·ªçc/ Th·ªß th∆∞/ Admin')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác ng∆∞·ªùi d√πng ƒëƒÉng nh·∫≠p v√†o h·ªá th·ªëng
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác ng∆∞·ªùi d√πng ƒëƒÉng nh·∫≠p v√†o h·ªá th·ªëng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Truy c·∫≠p trang ƒëƒÉng nh·∫≠p<br>2. Nh·∫≠p t√™n ƒëƒÉng nh·∫≠p v√† m·∫≠t kh·∫©u<br>3. Nh·∫•n n√∫t ƒêƒÉng nh·∫≠p
                            <br><button onclick="copyText('1. Truy c·∫≠p trang ƒëƒÉng nh·∫≠p\n2. Nh·∫≠p t√™n ƒëƒÉng nh·∫≠p v√† m·∫≠t kh·∫©u\n3. Nh·∫•n n√∫t ƒêƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            4. Ki·ªÉm tra t√†i kho·∫£n t·ªìn t·∫°i<br>5. X√°c th·ª±c m·∫≠t kh·∫©u<br>6. T·∫°o phi√™n ƒëƒÉng nh·∫≠p (JWT Token)<br>7. Chuy·ªÉn h∆∞·ªõng ƒë·∫øn trang ch·ªß theo vai tr√≤
                            <br><button onclick="copyText('4. Ki·ªÉm tra t√†i kho·∫£n t·ªìn t·∫°i\n5. X√°c th·ª±c m·∫≠t kh·∫©u\n6. T·∫°o phi√™n ƒëƒÉng nh·∫≠p (JWT Token)\n7. Chuy·ªÉn h∆∞·ªõng ƒë·∫øn trang ch·ªß theo vai tr√≤')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Ng∆∞·ªùi d√πng ƒë√£ c√≥ t√†i kho·∫£n trong h·ªá th·ªëng
                            <button onclick="copyText('Ng∆∞·ªùi d√πng ƒë√£ c√≥ t√†i kho·∫£n trong h·ªá th·ªëng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Ng∆∞·ªùi d√πng ƒë∆∞·ª£c x√°c th·ª±c v√† ƒëƒÉng nh·∫≠p th√†nh c√¥ng
                            <button onclick="copyText('Ng∆∞·ªùi d√πng ƒë∆∞·ª£c x√°c th·ª±c v√† ƒëƒÉng nh·∫≠p th√†nh c√¥ng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "Ng∆∞·ªùi d√πng" as User
usecase "ƒêƒÉng nh·∫≠p" as UC_angnhap

usecase "Qu√™n m·∫≠t kh·∫©u" as UC_Quenmatkhau
UC_angnhap <.. UC_Quenmatkhau : <<extend>>

User -- UC_angnhap
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| Ng∆∞·ªùi d√πng
|UI| Giao di·ªán
|System| H·ªá th·ªëng

|User|
start
:Ch·ªçn n√∫t ƒëƒÉng nh·∫≠p;
|UI|
:Hi·ªÉn th·ªã giao di·ªán\nƒëƒÉng nh·∫≠p;
repeat
|User|
:Nh·∫≠p th√¥ng tin t√†i\nkho·∫£n;
:Ch·ªçn ƒëƒÉng nh·∫≠p;
|System|
:Ki·ªÉm tra credentials;
if (T√†i kho·∫£n t·ªìn t·∫°i?) then (no)
  |UI|
  :Th√¥ng b√°o nh·∫≠p sai;
  :Y√™u c·∫ßu nh·∫≠p l·∫°i;
else (yes)
  |System|
  :ƒêƒÉng nh·∫≠p &amp; Chuy·ªÉn trang;
  stop
endif
repeat while (Th·ª≠ l·∫°i)
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± ƒëƒÉng nh·∫≠p
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "B·∫°n ƒë·ªçc\nTh·ªß th∆∞\nAdmin" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o ƒëƒÉng nh·∫≠p ==

activate User
User -> UI : Ch·ªçn ch·ª©c nƒÉng ƒëƒÉng nh·∫≠p
activate UI
UI --> User : Hi·ªÉn th·ªã form ƒëƒÉng nh·∫≠p
deactivate UI

User -> UI : Nh·∫≠p th√¥ng tin ƒëƒÉng nh·∫≠p
activate UI
User -> UI : G·ª≠i y√™u c·∫ßu ƒëƒÉng nh·∫≠p

UI -> System : submitLogin(th√¥ng tin)
activate System
System -> DB : queryUser(t√†i kho·∫£n, m·∫≠t kh·∫©u)
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu

alt T√†i kho·∫£n h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : loginSuccess()
    activate UI
    UI --> User : Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng
    UI -> User : Chuy·ªÉn ƒë·∫øn trang ch·ªß
    deactivate UI
else T√†i kho·∫£n kh√¥ng h·ª£p l·ªá
    DB --> System : Kh√¥ng t·ªìn t·∫°i / Sai m·∫≠t kh·∫©u
    deactivate DB
    
    System --> UI : loginFail()
    activate UI
    UI --> User : Hi·ªÉn th·ªã th√¥ng b√°o l·ªói
    UI --> User : Quay l·∫°i m√†n h√¨nh ƒëƒÉng nh·∫≠p
    deactivate UI
end
deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC03: ƒêƒÇNG XU·∫§T -->
        <div id="uc03" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC03: ƒêƒÉng xu·∫•t</h2>
                    <span class="badge" style="background: #f3e8ff; color: #7c3aed;">Shared</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('ƒêƒÉng xu·∫•t')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc03-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc03-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC003
                            <button onclick="copyText('UC003')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            ƒêƒÉng xu·∫•t
                            <button onclick="copyText('ƒêƒÉng xu·∫•t')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc/ Th·ªß th∆∞/ Admin
                            <button onclick="copyText('B·∫°n ƒë·ªçc/ Th·ªß th∆∞/ Admin')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác ƒëƒÉng xu·∫•t kh·ªèi h·ªá th·ªëng
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác ƒëƒÉng xu·∫•t kh·ªèi h·ªá th·ªëng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Ch·ªçn ch·ª©c nƒÉng ƒëƒÉng xu·∫•t
                            <br><button onclick="copyText('1. Ch·ªçn ch·ª©c nƒÉng ƒëƒÉng xu·∫•t')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            2. H·ªá th·ªëng ƒëƒÉng xu·∫•t t√†i kho·∫£n ng∆∞·ªùi d√πng ra kh·ªèi h·ªá th·ªëng<br>3. H·ªá th·ªëng quay l·∫°i trang ƒëƒÉng nh·∫≠p
                            <br><button onclick="copyText('2. H·ªá th·ªëng ƒëƒÉng xu·∫•t t√†i kho·∫£n ng∆∞·ªùi d√πng ra kh·ªèi h·ªá th·ªëng\n3. H·ªá th·ªëng quay l·∫°i trang ƒëƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            ƒê√£ ƒëƒÉng nh·∫≠p
                            <button onclick="copyText('ƒê√£ ƒëƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Kh√¥ng c√≥
                            <button onclick="copyText('Kh√¥ng c√≥')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "Ng∆∞·ªùi d√πng" as User
usecase "ƒêƒÉng xu·∫•t" as UC_angxuat


User -- UC_angxuat
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| Ng∆∞·ªùi d√πng
|System| H·ªá th·ªëng
|UI| Giao di·ªán

|User|
start
:Ch·ªçn ƒêƒÉng xu·∫•t;
|System|
:X·ª≠ l√Ω ƒëƒÉng xu·∫•t (X√≥a session);
if (Session h·ª£p l·ªá?) then (no)
  |UI|
  :B√°o l·ªói h·ªá th·ªëng;
  stop
else (yes)
  |System|
  :H·ªßy phi√™n &amp; Quay v·ªÅ login;
  stop
endif
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± ƒëƒÉng xu·∫•t
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "Ng∆∞·ªùi d√πng" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o ƒëƒÉng xu·∫•t ==

activate User
User -> UI : Ch·ªçn ƒëƒÉng xu·∫•t
activate UI
UI --> User : Y√™u c·∫ßu x√°c nh·∫≠n
deactivate UI

User -> UI : X√°c nh·∫≠n ƒë·ªìng √Ω
activate UI
User -> UI : G·ª≠i l·ªánh ƒëƒÉng xu·∫•t

UI -> System : logout()
activate System
System -> DB : clearSession()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : logoutSuccess()
    activate UI
    UI --> User : ƒêƒÉng xu·∫•t th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : logoutFail()
    activate UI
    UI --> User : L·ªói h·ªá th·ªëng
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC04: QU√äN M·∫¨T KH·∫®U -->
        <div id="uc04" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC04: Qu√™n m·∫≠t kh·∫©u</h2>
                    <span class="badge" style="background: #f3e8ff; color: #7c3aed;">Shared</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('Qu√™n m·∫≠t kh·∫©u')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc04-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc04-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC004
                            <button onclick="copyText('UC004')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Qu√™n m·∫≠t kh·∫©u
                            <button onclick="copyText('Qu√™n m·∫≠t kh·∫©u')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc/ Th·ªß th∆∞/ Admin
                            <button onclick="copyText('B·∫°n ƒë·ªçc/ Th·ªß th∆∞/ Admin')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác kh√¥i ph·ª•c m·∫≠t kh·∫©u khi ng∆∞·ªùi d√πng qu√™n
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác kh√¥i ph·ª•c m·∫≠t kh·∫©u khi ng∆∞·ªùi d√πng qu√™n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Truy c·∫≠p trang qu√™n m·∫≠t kh·∫©u<br>2. Nh·∫≠p email ƒë√£ ƒëƒÉng k√Ω<br>3. Click link reset trong email<br>4. Nh·∫≠p m·∫≠t kh·∫©u m·ªõi
                            <br><button onclick="copyText('1. Truy c·∫≠p trang qu√™n m·∫≠t kh·∫©u\n2. Nh·∫≠p email ƒë√£ ƒëƒÉng k√Ω\n3. Click link reset trong email\n4. Nh·∫≠p m·∫≠t kh·∫©u m·ªõi')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            5. Ki·ªÉm tra email t·ªìn t·∫°i<br>6. T·∫°o token reset<br>7. G·ª≠i email k√®m link reset<br>8. C·∫≠p nh·∫≠t m·∫≠t kh·∫©u m·ªõi
                            <br><button onclick="copyText('5. Ki·ªÉm tra email t·ªìn t·∫°i\n6. T·∫°o token reset\n7. G·ª≠i email k√®m link reset\n8. C·∫≠p nh·∫≠t m·∫≠t kh·∫©u m·ªõi')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Ng∆∞·ªùi d√πng c√≥ t√†i kho·∫£n v·ªõi email h·ª£p l·ªá
                            <button onclick="copyText('Ng∆∞·ªùi d√πng c√≥ t√†i kho·∫£n v·ªõi email h·ª£p l·ªá')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            M·∫≠t kh·∫©u ƒë∆∞·ª£c ƒë·∫∑t l·∫°i th√†nh c√¥ng
                            <button onclick="copyText('M·∫≠t kh·∫©u ƒë∆∞·ª£c ƒë·∫∑t l·∫°i th√†nh c√¥ng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "B·∫°n ƒë·ªçc" as User
usecase "Qu√™n m·∫≠t kh·∫©u" as UC_Quenmatkhau


usecase "G·ª≠i OTP" as UC_GuiOTP
UC_Quenmatkhau ..> UC_GuiOTP : <<include>>
User -- UC_Quenmatkhau
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| B·∫°n ƒë·ªçc
|UI| Giao di·ªán
|System| H·ªá th·ªëng

|User|
start
:Ch·ªçn Qu√™n m·∫≠t kh·∫©u;
|UI|
:Form nh·∫≠p email;
repeat
|User|
:Nh·∫≠p email ƒëƒÉng k√Ω;
:G·ª≠i y√™u c·∫ßu;
|System|
:Ki·ªÉm tra email;
if (Email t·ªìn t·∫°i?) then (no)
  |UI|
  :B√°o email kh√¥ng ƒë√∫ng;
  :Y√™u c·∫ßu nh·∫≠p l·∫°i;
else (yes)
  |System|
  :G·ª≠i m√£ x√°c th·ª±c qua email;
  stop
endif
repeat while (Th·ª≠ l·∫°i)
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± qu√™n m·∫≠t kh·∫©u
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "B·∫°n ƒë·ªçc" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o qu√™n m·∫≠t kh·∫©u ==

activate User
User -> UI : Ch·ªçn qu√™n m·∫≠t kh·∫©u
activate UI
UI --> User : Form nh·∫≠p email
deactivate UI

User -> UI : Nh·∫≠p email ƒëƒÉng k√Ω
activate UI
User -> UI : G·ª≠i y√™u c·∫ßu reset

UI -> System : requestReset()
activate System
System -> DB : findEmail()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : requestResetSuccess()
    activate UI
    UI --> User : G·ª≠i m√£ OTP th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : requestResetFail()
    activate UI
    UI --> User : Email kh√¥ng t·ªìn t·∫°i
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC05: TRA C·ª®U -->
        <div id="uc05" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC05: Tra c·ª©u s√°ch v√† xem chi ti·∫øt</h2>
                    <span class="badge badge-reader">B·∫°n ƒë·ªçc</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('UC05: Tra c·ª©u s√°ch v√† xem chi ti·∫øt')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc05-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc05-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC005
                            <button onclick="copyText('UC005')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Tra c·ª©u s√°ch
                            <button onclick="copyText('Tra c·ª©u s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc
                            <button onclick="copyText('B·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác t√¨m ki·∫øm s√°ch trong th∆∞ vi·ªán
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác t√¨m ki·∫øm s√°ch trong th∆∞ vi·ªán')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Nh·∫≠p t·ª´ kh√≥a t√¨m ki·∫øm<br>2. Ch·ªçn b·ªô l·ªçc (th·ªÉ lo·∫°i, t√°c gi·∫£)<br>3. Xem k·∫øt qu·∫£
                            <br><button onclick="copyText('1. Nh·∫≠p t·ª´ kh√≥a t√¨m ki·∫øm\n2. Ch·ªçn b·ªô l·ªçc (th·ªÉ lo·∫°i, t√°c gi·∫£)\n3. Xem k·∫øt qu·∫£')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            4. T√¨m ki·∫øm s√°ch theo ti√™u ch√≠<br>5. L·ªçc k·∫øt qu·∫£ theo b·ªô l·ªçc<br>6. Hi·ªÉn th·ªã danh s√°ch s√°ch ph√π h·ª£p
                            <br><button onclick="copyText('4. T√¨m ki·∫øm s√°ch theo ti√™u ch√≠\n5. L·ªçc k·∫øt qu·∫£ theo b·ªô l·ªçc\n6. Hi·ªÉn th·ªã danh s√°ch s√°ch ph√π h·ª£p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Kh√¥ng y√™u c·∫ßu
                            <button onclick="copyText('Kh√¥ng y√™u c·∫ßu')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Hi·ªÉn th·ªã danh s√°ch s√°ch ph√π h·ª£p v·ªõi t·ª´ kh√≥a
                            <button onclick="copyText('Hi·ªÉn th·ªã danh s√°ch s√°ch ph√π h·ª£p v·ªõi t·ª´ kh√≥a')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "B·∫°n ƒë·ªçc" as User
usecase "Tra c·ª©u s√°ch" as UC_Tracuusach


User -- UC_Tracuusach
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| B·∫°n ƒë·ªçc
|UI| Giao di·ªán
|System| H·ªá th·ªëng

|User|
start
:Ch·ªçn Tra c·ª©u;
|UI|
:Giao di·ªán t√¨m ki·∫øm;
repeat
|User|
:Nh·∫≠p t·ª´ kh√≥a;
:Nh·∫•n T√¨m ki·∫øm;
|System|
:Truy v·∫•n s√°ch;
if (C√≥ k·∫øt qu·∫£?) then (no)
  |UI|
  :Th√¥ng b√°o kh√¥ng t√¨m th·∫•y;
  :Y√™u c·∫ßu nh·∫≠p l·∫°i;
else (yes)
  |System|
  :Hi·ªÉn th·ªã danh s√°ch s√°ch;
  stop
endif
repeat while (Th·ª≠ l·∫°i)
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± tra c·ª©u s√°ch
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "B·∫°n ƒë·ªçc" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o tra c·ª©u s√°ch ==

activate User
User -> UI : Ch·ªçn menu Tra c·ª©u
activate UI
UI --> User : Giao di·ªán t√¨m ki·∫øm
deactivate UI

User -> UI : Nh·∫≠p t·ª´ kh√≥a
activate UI
User -> UI : T√¨m ki·∫øm

UI -> System : searchBooks()
activate System
System -> DB : queryBooks()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt C√≥ d·ªØ li·ªáu tr·∫£ v·ªÅ
    DB --> System : Danh s√°ch k·∫øt qu·∫£
    deactivate DB
    
    System -> UI : returnData()
    activate UI
    UI --> User : Hi·ªÉn th·ªã b·∫£ng d·ªØ li·ªáu
    deactivate UI
else Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu
    DB --> System : Danh s√°ch r·ªóng
    deactivate DB
    
    System --> UI : returnEmpty()
    activate UI
    UI --> User : Th√¥ng b√°o kh√¥ng c√≥ d·ªØ li·ªáu
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC06 -->
        <div id="uc06" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC06: Xem chi ti·∫øt s√°ch</h2>
                    <span class="badge badge-reader">B·∫°n ƒë·ªçc</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('Xem chi ti·∫øt s√°ch')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc06-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc06-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC006
                            <button onclick="copyText('UC006')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Xem chi ti·∫øt s√°ch
                            <button onclick="copyText('Xem chi ti·∫øt s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc
                            <button onclick="copyText('B·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác xem th√¥ng tin chi ti·∫øt c·ªßa m·ªôt quy·ªÉn s√°ch
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác xem th√¥ng tin chi ti·∫øt c·ªßa m·ªôt quy·ªÉn s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Ch·ªçn s√°ch t·ª´ danh s√°ch<br>2. Click xem chi ti·∫øt
                            <br><button onclick="copyText('1. Ch·ªçn s√°ch t·ª´ danh s√°ch\n2. Click xem chi ti·∫øt')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            3. Hi·ªÉn th·ªã th√¥ng tin s√°ch (t√™n, t√°c gi·∫£, ISBN...)<br>4. Hi·ªÉn th·ªã t√¨nh tr·∫°ng s√°ch<br>5. Hi·ªÉn th·ªã ƒë√°nh gi√° t·ª´ ng∆∞·ªùi ƒë·ªçc
                            <br><button onclick="copyText('3. Hi·ªÉn th·ªã th√¥ng tin s√°ch (t√™n, t√°c gi·∫£, ISBN...)\n4. Hi·ªÉn th·ªã t√¨nh tr·∫°ng s√°ch\n5. Hi·ªÉn th·ªã ƒë√°nh gi√° t·ª´ ng∆∞·ªùi ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            ƒê√£ ƒëƒÉng nh·∫≠p
                            <button onclick="copyText('ƒê√£ ƒëƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß th√¥ng tin chi ti·∫øt s√°ch
                            <button onclick="copyText('Hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß th√¥ng tin chi ti·∫øt s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "B·∫°n ƒë·ªçc" as User
usecase "Xem chi ti·∫øt s√°ch" as UC_Xemchitietsach

usecase "B√¨nh lu·∫≠n" as UC_Binhluan
UC_Xemchitietsach <.. UC_Binhluan : <<extend>>

User -- UC_Xemchitietsach
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| B·∫°n ƒë·ªçc
|System| H·ªá th·ªëng
|UI| Giao di·ªán

|User|
start
:Ch·ªçn s√°ch t·ª´ danh s√°ch;
|System|
:L·∫•y th√¥ng tin chi ti·∫øt s√°ch;
if (S√°ch t·ªìn t·∫°i?) then (no)
  |UI|
  :B√°o s√°ch kh√¥ng c√≤n t·ªìn t·∫°i;
  stop
else (yes)
  |UI|
  :Hi·ªÉn th·ªã chi ti·∫øt s√°ch;
  stop
endif
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± xem chi ti·∫øt
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "B·∫°n ƒë·ªçc" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o xem chi ti·∫øt ==

activate User
User -> UI : Ch·ªçn s√°ch t·ª´ danh s√°ch
activate UI
UI --> User : Chi ti·∫øt s√°ch
deactivate UI

User -> UI : Xem th√¥ng tin
activate UI
User -> UI : T·∫£i chi ti·∫øt

UI -> System : getBookDetail(id)
activate System
System -> DB : queryBook(id)
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : getBookDetail(id)Success()
    activate UI
    UI --> User : Hi·ªÉn th·ªã th√¥ng tin
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : getBookDetail(id)Fail()
    activate UI
    UI --> User : S√°ch kh√¥ng t·ªìn t·∫°i
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC07 -->
        <div id="uc07" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC07: Gia h·∫°n m∆∞·ª£n</h2>
                    <span class="badge badge-reader">B·∫°n ƒë·ªçc</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('Gia h·∫°n m∆∞·ª£n')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc07-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc07-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC007
                            <button onclick="copyText('UC007')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Gia h·∫°n m∆∞·ª£n
                            <button onclick="copyText('Gia h·∫°n m∆∞·ª£n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc
                            <button onclick="copyText('B·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác gia h·∫°n th·ªùi gian m∆∞·ª£n s√°ch
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác gia h·∫°n th·ªùi gian m∆∞·ª£n s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Xem s√°ch ƒëang m∆∞·ª£n<br>2. Ch·ªçn s√°ch c·∫ßn gia h·∫°n<br>3. Nh·∫•n n√∫t Gia h·∫°n
                            <br><button onclick="copyText('1. Xem s√°ch ƒëang m∆∞·ª£n\n2. Ch·ªçn s√°ch c·∫ßn gia h·∫°n\n3. Nh·∫•n n√∫t Gia h·∫°n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            4. Ki·ªÉm tra s·ªë l·∫ßn gia h·∫°n<br>5. Ki·ªÉm tra c√≥ ng∆∞·ªùi ƒë·∫∑t tr∆∞·ªõc kh√¥ng<br>6. C·∫≠p nh·∫≠t ng√†y tr·∫£ m·ªõi (+14 ng√†y)<br>7. Th√¥ng b√°o th√†nh c√¥ng
                            <br><button onclick="copyText('4. Ki·ªÉm tra s·ªë l·∫ßn gia h·∫°n\n5. Ki·ªÉm tra c√≥ ng∆∞·ªùi ƒë·∫∑t tr∆∞·ªõc kh√¥ng\n6. C·∫≠p nh·∫≠t ng√†y tr·∫£ m·ªõi (+14 ng√†y)\n7. Th√¥ng b√°o th√†nh c√¥ng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            ƒê√£ ƒëƒÉng nh·∫≠p, ƒëang m∆∞·ª£n s√°ch, ch∆∞a gia h·∫°n t·ªëi ƒëa
                            <button onclick="copyText('ƒê√£ ƒëƒÉng nh·∫≠p, ƒëang m∆∞·ª£n s√°ch, ch∆∞a gia h·∫°n t·ªëi ƒëa')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Ng√†y tr·∫£ s√°ch ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√™m 14 ng√†y
                            <button onclick="copyText('Ng√†y tr·∫£ s√°ch ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√™m 14 ng√†y')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "B·∫°n ƒë·ªçc" as User
usecase "Gia h·∫°n s√°ch" as UC_Giahansach


User -- UC_Giahansach
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| B·∫°n ƒë·ªçc
|System| H·ªá th·ªëng
|UI| Giao di·ªán

|User|
start
:Ch·ªçn n√∫t gia h·∫°n;
|System|
:Ki·ªÉm tra ƒëi·ªÅu ki·ªán gia h·∫°n;
if (ƒê·ªß ƒëi·ªÅu ki·ªán (Ch∆∞a qu√° h·∫°n/S·ªë l·∫ßn)?) then (no)
  |UI|
  :B√°o kh√¥ng ƒë∆∞·ª£c ph√©p gia h·∫°n;
  stop
else (yes)
  |System|
  :C·∫≠p nh·∫≠t ng√†y tr·∫£ m·ªõi;
  stop
endif
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± gia h·∫°n s√°ch
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "B·∫°n ƒë·ªçc" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o gia h·∫°n s√°ch ==

activate User
User -> UI : Ch·ªçn s√°ch ƒëang m∆∞·ª£n
activate UI
UI --> User : Th√¥ng tin phi·∫øu m∆∞·ª£n
deactivate UI

User -> UI : Nh·∫•n n√∫t Gia h·∫°n
activate UI
User -> UI : Y√™u c·∫ßu gia h·∫°n

UI -> System : extendLoan()
activate System
System -> DB : checkLoanReq()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : extendLoanSuccess()
    activate UI
    UI --> User : Gia h·∫°n th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : extendLoanFail()
    activate UI
    UI --> User : Kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán gia h·∫°n
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC08 -->
        <div id="uc08" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC08: M∆∞·ª£n s√°ch</h2>
                    <span class="badge badge-reader">B·∫°n ƒë·ªçc</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('M∆∞·ª£n s√°ch')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc08-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc08-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC008
                            <button onclick="copyText('UC008')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            M∆∞·ª£n s√°ch
                            <button onclick="copyText('M∆∞·ª£n s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc
                            <button onclick="copyText('B·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác b·∫°n ƒë·ªçc ƒëƒÉng k√Ω m∆∞·ª£n s√°ch tr·ª±c tuy·∫øn
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác b·∫°n ƒë·ªçc ƒëƒÉng k√Ω m∆∞·ª£n s√°ch tr·ª±c tuy·∫øn')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. T√¨m s√°ch c·∫ßn m∆∞·ª£n<br>2. Click n√∫t M∆∞·ª£n s√°ch
                            <br><button onclick="copyText('1. T√¨m s√°ch c·∫ßn m∆∞·ª£n\n2. Click n√∫t M∆∞·ª£n s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            3. Ki·ªÉm tra t√¨nh tr·∫°ng s√°ch<br>4. T·∫°o y√™u c·∫ßu m∆∞·ª£n<br>5. G·ª≠i th√¥ng b√°o x√°c nh·∫≠n
                            <br><button onclick="copyText('3. Ki·ªÉm tra t√¨nh tr·∫°ng s√°ch\n4. T·∫°o y√™u c·∫ßu m∆∞·ª£n\n5. G·ª≠i th√¥ng b√°o x√°c nh·∫≠n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            ƒê√£ ƒëƒÉng nh·∫≠p, s√°ch c√≤n s·∫µn
                            <button onclick="copyText('ƒê√£ ƒëƒÉng nh·∫≠p, s√°ch c√≤n s·∫µn')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Y√™u c·∫ßu m∆∞·ª£n ƒë∆∞·ª£c ghi nh·∫≠n
                            <button onclick="copyText('Y√™u c·∫ßu m∆∞·ª£n ƒë∆∞·ª£c ghi nh·∫≠n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "B·∫°n ƒë·ªçc" as User
usecase "M∆∞·ª£n s√°ch" as UC_Muonsach


User -- UC_Muonsach
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| B·∫°n ƒë·ªçc
|UI| Giao di·ªán
|System| H·ªá th·ªëng

|User|
start
:T√¨m s√°ch c·∫ßn m∆∞·ª£n;
|UI|
:Trang chi ti·∫øt s√°ch;
repeat
|User|
:Nh·∫•n n√∫t M∆∞·ª£n s√°ch;
:G·ª≠i y√™u c·∫ßu m∆∞·ª£n;
|System|
:Ki·ªÉm tra s√°ch &amp; H·∫°n ng·∫°ch;
if (H·ª£p l·ªá?) then (no)
  |UI|
  :B√°o l·ªói (H·∫øt s√°ch/Qu√° h·∫°n ng·∫°ch);
  :Y√™u c·∫ßu nh·∫≠p l·∫°i;
else (yes)
  |System|
  :T·∫°o y√™u c·∫ßu m∆∞·ª£n;
  stop
endif
repeat while (Th·ª≠ l·∫°i)
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± m∆∞·ª£n s√°ch
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "B·∫°n ƒë·ªçc" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o m∆∞·ª£n s√°ch ==

activate User
User -> UI : Ch·ªçn s√°ch c·∫ßn m∆∞·ª£n
activate UI
UI --> User : Chi ti·∫øt s√°ch
deactivate UI

User -> UI : Nh·∫•n M∆∞·ª£n s√°ch
activate UI
User -> UI : Y√™u c·∫ßu phi·∫øu

UI -> System : borrowBook()
activate System
System -> DB : checkBookStock()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : borrowBookSuccess()
    activate UI
    UI --> User : M∆∞·ª£n s√°ch th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : borrowBookFail()
    activate UI
    UI --> User : S√°ch h·∫øt ho·∫∑c l·ªói
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC09: TR·∫¢ S√ÅCH TR·ª∞C TUY·∫æN -->
        <div id="uc09" class="section">
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC09: Tr·∫£ s√°ch</h2>
                    <span class="badge badge-reader">B·∫°n ƒë·ªçc</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('Tr·∫£ s√°ch')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc09-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc09-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC009
                            <button onclick="copyText('UC009')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Tr·∫£ s√°ch
                            <button onclick="copyText('Tr·∫£ s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc
                            <button onclick="copyText('B·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác b·∫°n ƒë·ªçc tr·∫£ t√†i li·ªáu th√¥ng qua h·ªá th·ªëng tr·ª±c tuy·∫øn
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác b·∫°n ƒë·ªçc tr·∫£ t√†i li·ªáu th√¥ng qua h·ªá th·ªëng tr·ª±c tuy·∫øn')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Truy c·∫≠p S√°ch c·ªßa t√¥i<br>2. Ch·ªçn tab ƒêang m∆∞·ª£n<br>3. Nh·∫•n n√∫t Tr·∫£ s√°ch<br>4. X√°c nh·∫≠n tr·∫£
                            <br><button onclick="copyText('1. Truy c·∫≠p S√°ch c·ªßa t√¥i\n2. Ch·ªçn tab ƒêang m∆∞·ª£n\n3. Nh·∫•n n√∫t Tr·∫£ s√°ch\n4. X√°c nh·∫≠n tr·∫£')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            5. Ki·ªÉm tra s√°ch<br>6. C·∫≠p nh·∫≠t tr·∫°ng th√°i ƒê√£ tr·∫£<br>7. T√≠nh ph√≠ ph·∫°t (n·∫øu c√≥)<br>8. Th√¥ng b√°o th√†nh c√¥ng
                            <br><button onclick="copyText('5. Ki·ªÉm tra s√°ch\n6. C·∫≠p nh·∫≠t tr·∫°ng th√°i ƒê√£ tr·∫£\n7. T√≠nh ph√≠ ph·∫°t (n·∫øu c√≥)\n8. Th√¥ng b√°o th√†nh c√¥ng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            ƒê√£ ƒëƒÉng nh·∫≠p, c√≥ s√°ch ƒëang m∆∞·ª£n
                            <button onclick="copyText('ƒê√£ ƒëƒÉng nh·∫≠p, c√≥ s√°ch ƒëang m∆∞·ª£n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            S√°ch ƒë∆∞·ª£c tr·∫£, tr·∫°ng th√°i c·∫≠p nh·∫≠t
                            <button onclick="copyText('S√°ch ƒë∆∞·ª£c tr·∫£, tr·∫°ng th√°i c·∫≠p nh·∫≠t')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;"@startuml
left to right direction
skinparam packageStyle rectangle
actor "B·∫°n ƒë·ªçc" as User
usecase "Tr·∫£ s√°ch tr·ª±c tuy·∫øn" as UC_Trasachtructuyen


User -- UC_Trasachtructuyen
@enduml@startuml
left to right direction
skinparam packageStyle rectangle
actor "B·∫°n ƒë·ªçc" as User
usecase "Tr·∫£ s√°ch tr·ª±c tuy·∫øn" as UC_Trasachtructuyen


User -- UC_Trasachtructuyen
@enduml@startuml
left to right direction
skinparam packageStyle rectangle
actor "B·∫°n ƒë·ªçc" as User
usecase "Tr·∫£ s√°ch tr·ª±c tuy·∫øn" as UC_Trasachtructuyen


User -- UC_Trasachtructuyen
@enduml>Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "B·∫°n ƒë·ªçc" as User
usecase "Tr·∫£ s√°ch tr·ª±c tuy·∫øn" as UC_Trasachtructuyen


User -- UC_Trasachtructuyen
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| B·∫°n ƒë·ªçc
|System| H·ªá th·ªëng
|UI| Giao di·ªán

|User|
start
:Ch·ªçn s√°ch &amp; Nh·∫•n Tr·∫£;
|System|
:X·ª≠ l√Ω tr·∫£ s√°ch;
if (S√°ch h·ª£p l·ªá?) then (no)
  |UI|
  :B√°o l·ªói tr·∫£ s√°ch;
  stop
else (yes)
  |System|
  :C·∫≠p nh·∫≠t ƒë√£ tr·∫£ &amp; T√≠nh ph√≠ (n·∫øu c√≥);
  stop
endif
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± tr·∫£ s√°ch
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "B·∫°n ƒë·ªçc" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o tr·∫£ s√°ch ==

activate User
User -> UI : S√°ch c·ªßa t√¥i -> ƒêang m∆∞·ª£n
activate UI
UI --> User : Danh s√°ch s√°ch m∆∞·ª£n
deactivate UI

User -> UI : Ch·ªçn s√°ch -> Tr·∫£
activate UI
User -> UI : X√°c nh·∫≠n tr·∫£

UI -> System : returnBook()
activate System
System -> DB : updateLoanStatus()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : returnBookSuccess()
    activate UI
    UI --> User : Tr·∫£ s√°ch th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : returnBookFail()
    activate UI
    UI --> User : L·ªói c·∫≠p nh·∫≠t
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div

        <!-- UC10 -->
        <div id="uc10" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC10: ƒê√°nh gi√°</h2>
                    <span class="badge badge-reader">B·∫°n ƒë·ªçc</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('UC10: ƒê√°nh gi√°')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc10-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc10-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC010
                            <button onclick="copyText('UC010')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            ƒê√°nh gi√° s√°ch
                            <button onclick="copyText('ƒê√°nh gi√° s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc
                            <button onclick="copyText('B·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác ƒë√°nh gi√° v√† vi·∫øt nh·∫≠n x√©t v·ªÅ s√°ch
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác ƒë√°nh gi√° v√† vi·∫øt nh·∫≠n x√©t v·ªÅ s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Xem chi ti·∫øt s√°ch ƒë√£ m∆∞·ª£n<br>2. Nh·∫≠p s·ªë sao (1-5)<br>3. Vi·∫øt nh·∫≠n x√©t<br>4. G·ª≠i ƒë√°nh gi√°
                            <br><button onclick="copyText('1. Xem chi ti·∫øt s√°ch ƒë√£ m∆∞·ª£n\n2. Nh·∫≠p s·ªë sao (1-5)\n3. Vi·∫øt nh·∫≠n x√©t\n4. G·ª≠i ƒë√°nh gi√°')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            5. Ki·ªÉm tra ƒë√£ m∆∞·ª£n s√°ch ch∆∞a<br>6. L∆∞u ƒë√°nh gi√°<br>7. C·∫≠p nh·∫≠t ƒëi·ªÉm trung b√¨nh s√°ch
                            <br><button onclick="copyText('5. Ki·ªÉm tra ƒë√£ m∆∞·ª£n s√°ch ch∆∞a\n6. L∆∞u ƒë√°nh gi√°\n7. C·∫≠p nh·∫≠t ƒëi·ªÉm trung b√¨nh s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            ƒê√£ ƒëƒÉng nh·∫≠p v√† ƒë√£ t·ª´ng m∆∞·ª£n s√°ch ƒë√≥
                            <button onclick="copyText('ƒê√£ ƒëƒÉng nh·∫≠p v√† ƒë√£ t·ª´ng m∆∞·ª£n s√°ch ƒë√≥')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            ƒê√°nh gi√° ƒë∆∞·ª£c l∆∞u v√† hi·ªÉn th·ªã
                            <button onclick="copyText('ƒê√°nh gi√° ƒë∆∞·ª£c l∆∞u v√† hi·ªÉn th·ªã')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "B·∫°n ƒë·ªçc" as User
usecase "ƒê√°nh gi√° s√°ch" as UC_anhgiasach


User -- UC_anhgiasach
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| B·∫°n ƒë·ªçc
|UI| Giao di·ªán
|System| H·ªá th·ªëng

|User|
start
:Ch·ªçn ƒê√°nh gi√°;
|UI|
:Form ƒë√°nh gi√°;
repeat
|User|
:Ch·ªçn sao &amp; Vi·∫øt review;
:G·ª≠i ƒë√°nh gi√°;
|System|
:Ki·ªÉm tra ƒëi·ªÅu ki·ªán;
if (ƒê√£ m∆∞·ª£n s√°ch n√†y?) then (no)
  |UI|
  :B√°o ch∆∞a ƒë·ªß ƒëi·ªÅu ki·ªán ƒë√°nh gi√°;
  :Y√™u c·∫ßu nh·∫≠p l·∫°i;
else (yes)
  |System|
  :L∆∞u ƒë√°nh gi√°;
  stop
endif
repeat while (Th·ª≠ l·∫°i)
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± ƒë√°nh gi√°
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "B·∫°n ƒë·ªçc" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o ƒë√°nh gi√° ==

activate User
User -> UI : V√†o xem chi ti·∫øt
activate UI
UI --> User : Form ƒë√°nh gi√°
deactivate UI

User -> UI : Nh·∫≠p n·ªôi dung & Sao
activate UI
User -> UI : G·ª≠i ƒë√°nh gi√°

UI -> System : submitReview()
activate System
System -> DB : saveReview()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : submitReviewSuccess()
    activate UI
    UI --> User : ƒê√°nh gi√° th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : submitReviewFail()
    activate UI
    UI --> User : L·ªói khi l∆∞u
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC11 -->
        <div id="uc11" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC11: Thanh to√°n ph·∫°t</h2>
                    <span class="badge badge-reader">B·∫°n ƒë·ªçc</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('Thanh to√°n ph·∫°t')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc11-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc11-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC011
                            <button onclick="copyText('UC011')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Thanh to√°n ph·∫°t
                            <button onclick="copyText('Thanh to√°n ph·∫°t')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc
                            <button onclick="copyText('B·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác thanh to√°n c√°c kho·∫£n ph·∫°t
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác thanh to√°n c√°c kho·∫£n ph·∫°t')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Xem danh s√°ch phi·∫øu ph·∫°t<br>2. Ch·ªçn phi·∫øu c·∫ßn thanh to√°n<br>3. Ch·ªçn ph∆∞∆°ng th·ª©c thanh to√°n<br>4. X√°c nh·∫≠n thanh to√°n
                            <br><button onclick="copyText('1. Xem danh s√°ch phi·∫øu ph·∫°t\n2. Ch·ªçn phi·∫øu c·∫ßn thanh to√°n\n3. Ch·ªçn ph∆∞∆°ng th·ª©c thanh to√°n\n4. X√°c nh·∫≠n thanh to√°n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            5. Hi·ªÉn th·ªã chi ti·∫øt phi·∫øu ph·∫°t<br>6. X·ª≠ l√Ω thanh to√°n<br>7. C·∫≠p nh·∫≠t tr·∫°ng th√°i: ƒê√£ thanh to√°n
                            <br><button onclick="copyText('5. Hi·ªÉn th·ªã chi ti·∫øt phi·∫øu ph·∫°t\n6. X·ª≠ l√Ω thanh to√°n\n7. C·∫≠p nh·∫≠t tr·∫°ng th√°i: ƒê√£ thanh to√°n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            ƒê√£ ƒëƒÉng nh·∫≠p, c√≥ phi·∫øu ph·∫°t ch∆∞a thanh to√°n
                            <button onclick="copyText('ƒê√£ ƒëƒÉng nh·∫≠p, c√≥ phi·∫øu ph·∫°t ch∆∞a thanh to√°n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Phi·∫øu ph·∫°t ƒë∆∞·ª£c ƒë√°nh d·∫•u ƒë√£ thanh to√°n
                            <button onclick="copyText('Phi·∫øu ph·∫°t ƒë∆∞·ª£c ƒë√°nh d·∫•u ƒë√£ thanh to√°n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "Th·ªß th∆∞" as User
usecase "Thanh to√°n ph·∫°t" as UC_Thanhtoanphat


User -- UC_Thanhtoanphat
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| Th·ªß th∆∞
|UI| Giao di·ªán
|System| H·ªá th·ªëng

|User|
start
:Ch·ªçn Thu ph·∫°t;
|UI|
:Form thu ti·ªÅn ph·∫°t;
repeat
|User|
:Nh·∫≠p s·ªë ti·ªÅn kh√°ch ƒë∆∞a;
:X√°c nh·∫≠n thu;
|System|
:X·ª≠ l√Ω thanh to√°n;
if (S·ªë ti·ªÅn &gt;= Ph√≠ ph·∫°t?) then (no)
  |UI|
  :B√°o s·ªë ti·ªÅn kh√¥ng ƒë·ªß;
  :Y√™u c·∫ßu nh·∫≠p l·∫°i;
else (yes)
  |System|
  :C·∫≠p nh·∫≠t tr·∫°ng th√°i phi·∫øu ph·∫°t;
  stop
endif
repeat while (Th·ª≠ l·∫°i)
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± thanh to√°n
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "Th·ªß th∆∞" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o thanh to√°n ==

activate User
User -> UI : T√¨m ƒë·ªôc gi·∫£ n·ª£
activate UI
UI --> User : Th√¥ng tin phi·∫øu ph·∫°t
deactivate UI

User -> UI : Nh·∫≠p s·ªë ti·ªÅn thu
activate UI
User -> UI : X√°c nh·∫≠n thanh to√°n

UI -> System : processPayment()
activate System
System -> DB : updateFine()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : processPaymentSuccess()
    activate UI
    UI --> User : Thanh to√°n th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : processPaymentFail()
    activate UI
    UI --> User : L·ªói c·∫≠p nh·∫≠t
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC12 -->
        <div id="uc12" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC12: L·ªãch s·ª≠ m∆∞·ª£n</h2>
                    <span class="badge badge-reader">B·∫°n ƒë·ªçc</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('UC12: L·ªãch s·ª≠ m∆∞·ª£n')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc12-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc12-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC012
                            <button onclick="copyText('UC012')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Xem l·ªãch s·ª≠ m∆∞·ª£n
                            <button onclick="copyText('Xem l·ªãch s·ª≠ m∆∞·ª£n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc
                            <button onclick="copyText('B·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác xem l·ªãch s·ª≠ m∆∞·ª£n/tr·∫£ s√°ch
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác xem l·ªãch s·ª≠ m∆∞·ª£n/tr·∫£ s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Truy c·∫≠p L·ªãch s·ª≠ m∆∞·ª£n<br>2. Ch·ªçn b·ªô l·ªçc theo th·ªùi gian
                            <br><button onclick="copyText('1. Truy c·∫≠p L·ªãch s·ª≠ m∆∞·ª£n\n2. Ch·ªçn b·ªô l·ªçc theo th·ªùi gian')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            3. Hi·ªÉn th·ªã s√°ch ƒëang m∆∞·ª£n<br>4. Hi·ªÉn th·ªã l·ªãch s·ª≠ ƒë√£ tr·∫£<br>5. Cho ph√©p gia h·∫°n t·ª´ danh s√°ch
                            <br><button onclick="copyText('3. Hi·ªÉn th·ªã s√°ch ƒëang m∆∞·ª£n\n4. Hi·ªÉn th·ªã l·ªãch s·ª≠ ƒë√£ tr·∫£\n5. Cho ph√©p gia h·∫°n t·ª´ danh s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            ƒê√£ ƒëƒÉng nh·∫≠p
                            <button onclick="copyText('ƒê√£ ƒëƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß l·ªãch s·ª≠ m∆∞·ª£n/tr·∫£ s√°ch
                            <button onclick="copyText('Hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß l·ªãch s·ª≠ m∆∞·ª£n/tr·∫£ s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "B·∫°n ƒë·ªçc" as User
usecase "Xem l·ªãch s·ª≠" as UC_Xemlichsu


User -- UC_Xemlichsu
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| B·∫°n ƒë·ªçc
|System| H·ªá th·ªëng
|UI| Giao di·ªán

|User|
start
:V√†o menu L·ªãch s·ª≠;
|System|
:Truy v·∫•n l·ªãch s·ª≠ m∆∞·ª£n;
if (C√≥ d·ªØ li·ªáu?) then (no)
  |UI|
  :Hi·ªÉn th·ªã th√¥ng b√°o tr·ªëng;
  stop
else (yes)
  |UI|
  :Hi·ªÉn th·ªã b·∫£ng l·ªãch s·ª≠;
  stop
endif
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± l·ªãch s·ª≠
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "B·∫°n ƒë·ªçc" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o l·ªãch s·ª≠ ==

activate User
User -> UI : V√†o trang c√° nh√¢n
activate UI
UI --> User : Menu L·ªãch s·ª≠
deactivate UI

User -> UI : Ch·ªçn xem l·ªãch s·ª≠
activate UI
User -> UI : T·∫£i danh s√°ch

UI -> System : getHistory()
activate System
System -> DB : queryHistory()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt C√≥ d·ªØ li·ªáu tr·∫£ v·ªÅ
    DB --> System : Danh s√°ch k·∫øt qu·∫£
    deactivate DB
    
    System -> UI : returnData()
    activate UI
    UI --> User : Hi·ªÉn th·ªã b·∫£ng d·ªØ li·ªáu
    deactivate UI
else Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu
    DB --> System : Danh s√°ch r·ªóng
    deactivate DB
    
    System --> UI : returnEmpty()
    activate UI
    UI --> User : Th√¥ng b√°o kh√¥ng c√≥ d·ªØ li·ªáu
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC13 -->
        <div id="uc13" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC13: C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n</h2>
                    <span class="badge badge-reader">B·∫°n ƒë·ªçc</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc13-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc13-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC013
                            <button onclick="copyText('UC013')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n
                            <button onclick="copyText('C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc
                            <button onclick="copyText('B·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác c·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác c·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Truy c·∫≠p H·ªì s∆°<br>2. Ch·ªânh s·ª≠a th√¥ng tin<br>3. L∆∞u thay ƒë·ªïi
                            <br><button onclick="copyText('1. Truy c·∫≠p H·ªì s∆°\n2. Ch·ªânh s·ª≠a th√¥ng tin\n3. L∆∞u thay ƒë·ªïi')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            4. X√°c th·ª±c th√¥ng tin<br>5. C·∫≠p nh·∫≠t v√†o c∆° s·ªü d·ªØ li·ªáu<br>6. Th√¥ng b√°o th√†nh c√¥ng
                            <br><button onclick="copyText('4. X√°c th·ª±c th√¥ng tin\n5. C·∫≠p nh·∫≠t v√†o c∆° s·ªü d·ªØ li·ªáu\n6. Th√¥ng b√°o th√†nh c√¥ng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            ƒê√£ ƒëƒÉng nh·∫≠p
                            <button onclick="copyText('ƒê√£ ƒëƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th√¥ng tin c√° nh√¢n ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh c√¥ng
                            <button onclick="copyText('Th√¥ng tin c√° nh√¢n ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh c√¥ng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "Ng∆∞·ªùi d√πng" as User
usecase "C·∫≠p nh·∫≠t th√¥ng tin" as UC_Capnhatthongtin


User -- UC_Capnhatthongtin
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| Ng∆∞·ªùi d√πng
|UI| Giao di·ªán
|System| H·ªá th·ªëng

|User|
start
:V√†o trang c√° nh√¢n;
|UI|
:Form th√¥ng tin;
repeat
|User|
:C·∫≠p nh·∫≠t th√¥ng tin;
:L∆∞u thay ƒë·ªïi;
|System|
:Validate d·ªØ li·ªáu;
if (D·ªØ li·ªáu h·ª£p l·ªá?) then (no)
  |UI|
  :B√°o l·ªói ƒë·ªãnh d·∫°ng;
  :Y√™u c·∫ßu nh·∫≠p l·∫°i;
else (yes)
  |System|
  :C·∫≠p nh·∫≠t DB;
  stop
endif
repeat while (Th·ª≠ l·∫°i)
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± c·∫≠p nh·∫≠t info
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "Ng∆∞·ªùi d√πng" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o c·∫≠p nh·∫≠t info ==

activate User
User -> UI : V√†o trang Profile
activate UI
UI --> User : Form th√¥ng tin
deactivate UI

User -> UI : S·ª≠a d·ªØ li·ªáu
activate UI
User -> UI : L∆∞u thay ƒë·ªïi

UI -> System : updateProfile()
activate System
System -> DB : saveProfile()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : updateProfileSuccess()
    activate UI
    UI --> User : C·∫≠p nh·∫≠t th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : updateProfileFail()
    activate UI
    UI --> User : D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC14 -->
        <div id="uc14" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC14: L·∫≠p phi·∫øu m∆∞·ª£n</h2>
                    <span class="badge badge-librarian">Th·ªß th∆∞</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('L·∫≠p phi·∫øu m∆∞·ª£n')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc14-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc14-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC014
                            <button onclick="copyText('UC014')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            L·∫≠p phi·∫øu m∆∞·ª£n
                            <button onclick="copyText('L·∫≠p phi·∫øu m∆∞·ª£n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th·ªß th∆∞
                            <button onclick="copyText('Th·ªß th∆∞')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác t·∫°o phi·∫øu m∆∞·ª£n s√°ch cho b·∫°n ƒë·ªçc
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác t·∫°o phi·∫øu m∆∞·ª£n s√°ch cho b·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Nh·∫≠p m√£ b·∫°n ƒë·ªçc<br>2. Nh·∫≠p m√£ s√°ch c·∫ßn m∆∞·ª£n<br>3. X√°c nh·∫≠n t·∫°o phi·∫øu
                            <br><button onclick="copyText('1. Nh·∫≠p m√£ b·∫°n ƒë·ªçc\n2. Nh·∫≠p m√£ s√°ch c·∫ßn m∆∞·ª£n\n3. X√°c nh·∫≠n t·∫°o phi·∫øu')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            4. Ki·ªÉm tra th·∫ª b·∫°n ƒë·ªçc c√≤n hi·ªáu l·ª±c<br>5. Ki·ªÉm tra s√°ch c√≤n s·∫µn<br>6. T·∫°o phi·∫øu m∆∞·ª£n<br>7. C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s√°ch
                            <br><button onclick="copyText('4. Ki·ªÉm tra th·∫ª b·∫°n ƒë·ªçc c√≤n hi·ªáu l·ª±c\n5. Ki·ªÉm tra s√°ch c√≤n s·∫µn\n6. T·∫°o phi·∫øu m∆∞·ª£n\n7. C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th·ªß th∆∞ ƒë√£ ƒëƒÉng nh·∫≠p, b·∫°n ƒë·ªçc c√≥ th·∫ª h·ª£p l·ªá, s√°ch c√≤n s·∫µn
                            <button onclick="copyText('Th·ªß th∆∞ ƒë√£ ƒëƒÉng nh·∫≠p, b·∫°n ƒë·ªçc c√≥ th·∫ª h·ª£p l·ªá, s√°ch c√≤n s·∫µn')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Phi·∫øu m∆∞·ª£n ƒë∆∞·ª£c t·∫°o, s·ªë l∆∞·ª£ng s√°ch gi·∫£m
                            <button onclick="copyText('Phi·∫øu m∆∞·ª£n ƒë∆∞·ª£c t·∫°o, s·ªë l∆∞·ª£ng s√°ch gi·∫£m')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "Th·ªß th∆∞" as User
usecase "L·∫≠p phi·∫øu m∆∞·ª£n" as UC_Lapphieumuon


usecase "Ki·ªÉm tra th·∫ª" as UC_Kiemtrathe
UC_Lapphieumuon ..> UC_Kiemtrathe : <<include>>
User -- UC_Lapphieumuon
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| Th·ªß th∆∞
|UI| Giao di·ªán
|System| H·ªá th·ªëng

|User|
start
:Qu√©t th·∫ª ƒë·ªôc gi·∫£;
|UI|
:Hi·ªÉn th·ªã th√¥ng tin ƒë·ªôc gi·∫£;
repeat
|User|
:Qu√©t m√£ s√°ch &amp; Nh·∫≠p h·∫°n;
:L·∫≠p phi·∫øu m∆∞·ª£n;
|System|
:Ki·ªÉm tra ƒëi·ªÅu ki·ªán m∆∞·ª£n;
if (ƒê·ªôc gi·∫£ ƒë·ªß ƒëi·ªÅu ki·ªán?) then (no)
  |UI|
  :B√°o vi ph·∫°m/Qu√° h·∫°n ng·∫°ch;
  :Y√™u c·∫ßu nh·∫≠p l·∫°i;
else (yes)
  |System|
  :T·∫°o phi·∫øu m∆∞·ª£n;
  stop
endif
repeat while (Th·ª≠ l·∫°i)
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± l·∫≠p phi·∫øu
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "Th·ªß th∆∞" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o l·∫≠p phi·∫øu ==

activate User
User -> UI : Qu√©t m√£ s√°ch & th·∫ª
activate UI
UI --> User : Form phi·∫øu m∆∞·ª£n
deactivate UI

User -> UI : Ki·ªÉm tra & X√°c nh·∫≠n
activate UI
User -> UI : T·∫°o phi·∫øu

UI -> System : createLoan()
activate System
System -> DB : checkConditions()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : createLoanSuccess()
    activate UI
    UI --> User : L·∫≠p phi·∫øu th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : createLoanFail()
    activate UI
    UI --> User : ƒê·ªôc gi·∫£ b·ªã kho√°/S√°ch h·∫øt
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC15 -->
        <div id="uc15" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC15: Qu·∫£n l√Ω s√°ch</h2>
                    <span class="badge badge-librarian">Th·ªß th∆∞</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('Qu·∫£n l√Ω s√°ch')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc15-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc15-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC015
                            <button onclick="copyText('UC015')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Qu·∫£n l√Ω s√°ch
                            <button onclick="copyText('Qu·∫£n l√Ω s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th·ªß th∆∞
                            <button onclick="copyText('Th·ªß th∆∞')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác qu·∫£n l√Ω danh m·ª•c s√°ch trong th∆∞ vi·ªán
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác qu·∫£n l√Ω danh m·ª•c s√°ch trong th∆∞ vi·ªán')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Truy c·∫≠p Qu·∫£n l√Ω s√°ch<br>2. Th√™m/S·ª≠a/X√≥a s√°ch
                            <br><button onclick="copyText('1. Truy c·∫≠p Qu·∫£n l√Ω s√°ch\n2. Th√™m/S·ª≠a/X√≥a s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            3. X√°c th·ª±c th√¥ng tin s√°ch<br>4. C·∫≠p nh·∫≠t c∆° s·ªü d·ªØ li·ªáu<br>5. Th√¥ng b√°o k·∫øt qu·∫£
                            <br><button onclick="copyText('3. X√°c th·ª±c th√¥ng tin s√°ch\n4. C·∫≠p nh·∫≠t c∆° s·ªü d·ªØ li·ªáu\n5. Th√¥ng b√°o k·∫øt qu·∫£')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th·ªß th∆∞ ƒë√£ ƒëƒÉng nh·∫≠p
                            <button onclick="copyText('Th·ªß th∆∞ ƒë√£ ƒëƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Danh m·ª•c s√°ch ƒë∆∞·ª£c c·∫≠p nh·∫≠t
                            <button onclick="copyText('Danh m·ª•c s√°ch ƒë∆∞·ª£c c·∫≠p nh·∫≠t')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "Th·ªß th∆∞" as User
usecase "Qu·∫£n l√Ω s√°ch" as UC_Quanlysach

usecase "Th√™m s√°ch" as UC_Themsach
UC_Quanlysach <.. UC_Themsach : <<extend>>
usecase "S·ª≠a s√°ch" as UC_Suasach
UC_Quanlysach <.. UC_Suasach : <<extend>>
usecase "X√≥a s√°ch" as UC_Xoasach
UC_Quanlysach <.. UC_Xoasach : <<extend>>

User -- UC_Quanlysach
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| Th·ªß th∆∞
|UI| Giao di·ªán
|System| H·ªá th·ªëng

|User|
start
:M·ªü form th√™m s√°ch;
|UI|
:Form nh·∫≠p s√°ch;
repeat
|User|
:Nh·∫≠p th√¥ng tin s√°ch;
:L∆∞u s√°ch;
|System|
:Ki·ªÉm tra d·ªØ li·ªáu;
if (H·ª£p l·ªá?) then (no)
  |UI|
  :B√°o l·ªói nh·∫≠p li·ªáu;
  :Y√™u c·∫ßu nh·∫≠p l·∫°i;
else (yes)
  |System|
  :C·∫≠p nh·∫≠t kho s√°ch;
  stop
endif
repeat while (Th·ª≠ l·∫°i)
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± ql s√°ch
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "Th·ªß th∆∞" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o ql s√°ch ==

activate User
User -> UI : V√†o trang Qu·∫£n l√Ω
activate UI
UI --> User : Danh s√°ch s√°ch
deactivate UI

User -> UI : Nh·∫≠p th√¥ng tin s√°ch
activate UI
User -> UI : L∆∞u s√°ch

UI -> System : saveBook()
activate System
System -> DB : insertBook()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : saveBookSuccess()
    activate UI
    UI --> User : L∆∞u th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : saveBookFail()
    activate UI
    UI --> User : L·ªói d·ªØ li·ªáu
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC16 -->
        <div id="uc16" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC16: Qu·∫£n l√Ω b·∫°n ƒë·ªçc</h2>
                    <span class="badge badge-librarian">Th·ªß th∆∞</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('Qu·∫£n l√Ω b·∫°n ƒë·ªçc')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc16-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc16-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC016
                            <button onclick="copyText('UC016')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Qu·∫£n l√Ω b·∫°n ƒë·ªçc
                            <button onclick="copyText('Qu·∫£n l√Ω b·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th·ªß th∆∞
                            <button onclick="copyText('Th·ªß th∆∞')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác qu·∫£n l√Ω th√¥ng tin v√† th·∫ª b·∫°n ƒë·ªçc
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác qu·∫£n l√Ω th√¥ng tin v√† th·∫ª b·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Truy c·∫≠p Qu·∫£n l√Ω b·∫°n ƒë·ªçc<br>2. Th√™m/S·ª≠a/Kh√≥a th·∫ª b·∫°n ƒë·ªçc
                            <br><button onclick="copyText('1. Truy c·∫≠p Qu·∫£n l√Ω b·∫°n ƒë·ªçc\n2. Th√™m/S·ª≠a/Kh√≥a th·∫ª b·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            3. X√°c th·ª±c th√¥ng tin<br>4. C·∫≠p nh·∫≠t tr·∫°ng th√°i th·∫ª<br>5. Th√¥ng b√°o k·∫øt qu·∫£
                            <br><button onclick="copyText('3. X√°c th·ª±c th√¥ng tin\n4. C·∫≠p nh·∫≠t tr·∫°ng th√°i th·∫ª\n5. Th√¥ng b√°o k·∫øt qu·∫£')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th·ªß th∆∞ ƒë√£ ƒëƒÉng nh·∫≠p
                            <button onclick="copyText('Th·ªß th∆∞ ƒë√£ ƒëƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th√¥ng tin b·∫°n ƒë·ªçc ƒë∆∞·ª£c c·∫≠p nh·∫≠t
                            <button onclick="copyText('Th√¥ng tin b·∫°n ƒë·ªçc ƒë∆∞·ª£c c·∫≠p nh·∫≠t')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "Th·ªß th∆∞" as User
usecase "Qu·∫£n l√Ω b·∫°n ƒë·ªçc" as UC_Quanlybanoc

usecase "Kh√≥a th·∫ª" as UC_Khoathe
UC_Quanlybanoc <.. UC_Khoathe : <<extend>>

User -- UC_Quanlybanoc
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| Th·ªß th∆∞
|System| H·ªá th·ªëng
|UI| Giao di·ªán

|User|
start
:Kh√≥a/M·ªü kh√≥a ƒë·ªôc gi·∫£;
|System|
:C·∫≠p nh·∫≠t tr·∫°ng th√°i th·∫ª;
if (Th√†nh c√¥ng?) then (no)
  |UI|
  :B√°o l·ªói c·∫≠p nh·∫≠t;
  stop
else (yes)
  |System|
  :L∆∞u tr·∫°ng th√°i m·ªõi;
  stop
endif
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± ql b·∫°n ƒë·ªçc
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "Th·ªß th∆∞" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o ql b·∫°n ƒë·ªçc ==

activate User
User -> UI : V√†o trang B·∫°n ƒë·ªçc
activate UI
UI --> User : Danh s√°ch ƒë·ªôc gi·∫£
deactivate UI

User -> UI : Ch·ªçn kho√°/m·ªü kho√°
activate UI
User -> UI : C·∫≠p nh·∫≠t tr·∫°ng th√°i

UI -> System : updateUserStatus()
activate System
System -> DB : saveStatus()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : updateUserStatusSuccess()
    activate UI
    UI --> User : C·∫≠p nh·∫≠t th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : updateUserStatusFail()
    activate UI
    UI --> User : L·ªói
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC17 -->
        <div id="uc17" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC17: C·∫≠p nh·∫≠t tr·∫°ng th√°i s√°ch</h2>
                    <span class="badge badge-librarian">Th·ªß th∆∞</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('C·∫≠p nh·∫≠t tr·∫°ng th√°i s√°ch')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc17-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc17-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC017
                            <button onclick="copyText('UC017')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            C·∫≠p nh·∫≠t tr·∫°ng th√°i s√°ch
                            <button onclick="copyText('C·∫≠p nh·∫≠t tr·∫°ng th√°i s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th·ªß th∆∞
                            <button onclick="copyText('Th·ªß th∆∞')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác c·∫≠p nh·∫≠t tr·∫°ng th√°i c·ªßa t·ª´ng b·∫£n s√°ch
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác c·∫≠p nh·∫≠t tr·∫°ng th√°i c·ªßa t·ª´ng b·∫£n s√°ch')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. T√¨m s√°ch c·∫ßn c·∫≠p nh·∫≠t<br>2. Ch·ªçn tr·∫°ng th√°i m·ªõi (H∆∞ h·ªèng/M·∫•t/Thanh l√Ω/Kh·∫£ d·ª•ng)
                            <br><button onclick="copyText('1. T√¨m s√°ch c·∫ßn c·∫≠p nh·∫≠t\n2. Ch·ªçn tr·∫°ng th√°i m·ªõi (H∆∞ h·ªèng/M·∫•t/Thanh l√Ω/Kh·∫£ d·ª•ng)')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            3. C·∫≠p nh·∫≠t tr·∫°ng th√°i s√°ch<br>4. Th√¥ng b√°o th√†nh c√¥ng
                            <br><button onclick="copyText('3. C·∫≠p nh·∫≠t tr·∫°ng th√°i s√°ch\n4. Th√¥ng b√°o th√†nh c√¥ng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th·ªß th∆∞ ƒë√£ ƒëƒÉng nh·∫≠p
                            <button onclick="copyText('Th·ªß th∆∞ ƒë√£ ƒëƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Tr·∫°ng th√°i s√°ch ƒë∆∞·ª£c c·∫≠p nh·∫≠t
                            <button onclick="copyText('Tr·∫°ng th√°i s√°ch ƒë∆∞·ª£c c·∫≠p nh·∫≠t')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "Th·ªß th∆∞" as User
usecase "C·∫≠p nh·∫≠t t√¨nh tr·∫°ng s√°ch" as UC_Capnhattinhtrangsach


User -- UC_Capnhattinhtrangsach
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| Th·ªß th∆∞
|System| H·ªá th·ªëng
|UI| Giao di·ªán

|User|
start
:C·∫≠p nh·∫≠t t√¨nh tr·∫°ng s√°ch;
|System|
:Ki·ªÉm tra &amp; C·∫≠p nh·∫≠t;
if (S√°ch t·ªìn t·∫°i?) then (no)
  |UI|
  :B√°o l·ªói m√£ s√°ch;
  stop
else (yes)
  |System|
  :L∆∞u t√¨nh tr·∫°ng (M·∫•t/H·ªèng);
  stop
endif
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± t√¨nh tr·∫°ng s√°ch
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "Th·ªß th∆∞" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o t√¨nh tr·∫°ng s√°ch ==

activate User
User -> UI : Tra c·ª©u m√£ s√°ch
activate UI
UI --> User : Th√¥ng tin t√¨nh tr·∫°ng
deactivate UI

User -> UI : C·∫≠p nh·∫≠t h·ªèng/m·∫•t
activate UI
User -> UI : L∆∞u t√¨nh tr·∫°ng

UI -> System : updateCondition()
activate System
System -> DB : saveCondition()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : updateConditionSuccess()
    activate UI
    UI --> User : C·∫≠p nh·∫≠t th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : updateConditionFail()
    activate UI
    UI --> User : L·ªói
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC18 -->
        <div id="uc18" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC18: X·ª≠ l√Ω qu√° h·∫°n</h2>
                    <span class="badge badge-librarian">Th·ªß th∆∞</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('X·ª≠ l√Ω qu√° h·∫°n')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc18-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc18-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC018
                            <button onclick="copyText('UC018')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            X·ª≠ l√Ω qu√° h·∫°n
                            <button onclick="copyText('X·ª≠ l√Ω qu√° h·∫°n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th·ªß th∆∞
                            <button onclick="copyText('Th·ªß th∆∞')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác qu·∫£n l√Ω c√°c tr∆∞·ªùng h·ª£p m∆∞·ª£n s√°ch qu√° h·∫°n
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác qu·∫£n l√Ω c√°c tr∆∞·ªùng h·ª£p m∆∞·ª£n s√°ch qu√° h·∫°n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Xem danh s√°ch qu√° h·∫°n<br>2. Ch·ªçn g·ª≠i nh·∫Øc nh·ªü ho·∫∑c t·∫°o ph·∫°t
                            <br><button onclick="copyText('1. Xem danh s√°ch qu√° h·∫°n\n2. Ch·ªçn g·ª≠i nh·∫Øc nh·ªü ho·∫∑c t·∫°o ph·∫°t')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            3. T√≠nh ti·ªÅn ph·∫°t theo s·ªë ng√†y<br>4. G·ª≠i th√¥ng b√°o cho b·∫°n ƒë·ªçc<br>5. T·∫°o phi·∫øu ph·∫°t n·∫øu c·∫ßn
                            <br><button onclick="copyText('3. T√≠nh ti·ªÅn ph·∫°t theo s·ªë ng√†y\n4. G·ª≠i th√¥ng b√°o cho b·∫°n ƒë·ªçc\n5. T·∫°o phi·∫øu ph·∫°t n·∫øu c·∫ßn')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th·ªß th∆∞ ƒë√£ ƒëƒÉng nh·∫≠p, c√≥ phi·∫øu m∆∞·ª£n qu√° h·∫°n
                            <button onclick="copyText('Th·ªß th∆∞ ƒë√£ ƒëƒÉng nh·∫≠p, c√≥ phi·∫øu m∆∞·ª£n qu√° h·∫°n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            B·∫°n ƒë·ªçc ƒë∆∞·ª£c th√¥ng b√°o, phi·∫øu ph·∫°t ƒë∆∞·ª£c t·∫°o
                            <button onclick="copyText('B·∫°n ƒë·ªçc ƒë∆∞·ª£c th√¥ng b√°o, phi·∫øu ph·∫°t ƒë∆∞·ª£c t·∫°o')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "H·ªá th·ªëng" as User
usecase "X·ª≠ l√Ω qu√° h·∫°n" as UC_Xulyquahan


User -- UC_Xulyquahan
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|System| H·ªá th·ªëng

|System|
start
:Ch·∫°y qu√©t ƒë·ªãnh k·ª≥ (Timer);
:L·∫•y t·∫•t c·∫£ phi·∫øu ƒëang m∆∞·ª£n;
:So s√°nh Ng√†y Tr·∫£ vs Hi·ªán t·∫°i;
if (C√≥ phi·∫øu qu√° h·∫°n?) then (no)
  :K·∫øt th√∫c quy tr√¨nh (0 updates);
  stop
else (yes)
  :T·∫°o phi·∫øu ph·∫°t &amp; G·ª≠i th√¥ng b√°o;
  stop
endif
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± qu√° h·∫°n
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "H·ªá th·ªëng" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o qu√° h·∫°n ==

activate User
User -> UI : Trigger Cron Job
activate UI
UI --> User : Danh s√°ch qu√° h·∫°n
deactivate UI

User -> UI : T√≠nh ph√≠ ph·∫°t
activate UI
User -> UI : X·ª≠ l√Ω vi ph·∫°m

UI -> System : processOverdue()
activate System
System -> DB : updateFines()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : processOverdueSuccess()
    activate UI
    UI --> User : X·ª≠ l√Ω ho√†n t·∫•t
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : processOverdueFail()
    activate UI
    UI --> User : L·ªói
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC19 -->
        <div id="uc19" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC19: Th·ªëng k√™/B√°o c√°o</h2>
                    <span class="badge badge-librarian">Th·ªß th∆∞</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('Th·ªëng k√™/B√°o c√°o')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc19-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc19-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC019
                            <button onclick="copyText('UC019')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th·ªëng k√™/B√°o c√°o
                            <button onclick="copyText('Th·ªëng k√™/B√°o c√°o')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th·ªß th∆∞
                            <button onclick="copyText('Th·ªß th∆∞')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác xem c√°c b√°o c√°o th·ªëng k√™ ho·∫°t ƒë·ªông th∆∞ vi·ªán
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác xem c√°c b√°o c√°o th·ªëng k√™ ho·∫°t ƒë·ªông th∆∞ vi·ªán')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Truy c·∫≠p Th·ªëng k√™<br>2. Ch·ªçn lo·∫°i th·ªëng k√™ v√† kho·∫£ng th·ªùi gian<br>3. Xu·∫•t b√°o c√°o n·∫øu c·∫ßn
                            <br><button onclick="copyText('1. Truy c·∫≠p Th·ªëng k√™\n2. Ch·ªçn lo·∫°i th·ªëng k√™ v√† kho·∫£ng th·ªùi gian\n3. Xu·∫•t b√°o c√°o n·∫øu c·∫ßn')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            4. T·ªïng h·ª£p d·ªØ li·ªáu<br>5. Hi·ªÉn th·ªã bi·ªÉu ƒë·ªì<br>6. Xu·∫•t file Excel/PDF
                            <br><button onclick="copyText('4. T·ªïng h·ª£p d·ªØ li·ªáu\n5. Hi·ªÉn th·ªã bi·ªÉu ƒë·ªì\n6. Xu·∫•t file Excel/PDF')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Th·ªß th∆∞ ƒë√£ ƒëƒÉng nh·∫≠p
                            <button onclick="copyText('Th·ªß th∆∞ ƒë√£ ƒëƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Hi·ªÉn th·ªã bi·ªÉu ƒë·ªì v√† d·ªØ li·ªáu th·ªëng k√™
                            <button onclick="copyText('Hi·ªÉn th·ªã bi·ªÉu ƒë·ªì v√† d·ªØ li·ªáu th·ªëng k√™')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "Admin" as User
usecase "Th·ªëng k√™" as UC_Thongke


User -- UC_Thongke
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| Admin
|System| H·ªá th·ªëng
|UI| Giao di·ªán

|User|
start
:Truy c·∫≠p Dashboard;
|System|
:T·ªïng h·ª£p s·ªë li·ªáu th·ªëng k√™;
if (D·ªØ li·ªáu s·∫µn s√†ng?) then (no)
  |UI|
  :Hi·ªÉn th·ªã dashboard tr·ªëng;
  stop
else (yes)
  |UI|
  :Hi·ªÉn th·ªã bi·ªÉu ƒë·ªì &amp; S·ªë li·ªáu;
  stop
endif
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± th·ªëng k√™
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "Admin" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o th·ªëng k√™ ==

activate User
User -> UI : V√†o trang Th·ªëng k√™
activate UI
UI --> User : Dashboard
deactivate UI

User -> UI : Ch·ªçn b·ªô l·ªçc
activate UI
User -> UI : Xem b√°o c√°o

UI -> System : getStats()
activate System
System -> DB : queryAggregates()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt C√≥ d·ªØ li·ªáu tr·∫£ v·ªÅ
    DB --> System : Danh s√°ch k·∫øt qu·∫£
    deactivate DB
    
    System -> UI : returnData()
    activate UI
    UI --> User : Hi·ªÉn th·ªã b·∫£ng d·ªØ li·ªáu
    deactivate UI
else Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu
    DB --> System : Danh s√°ch r·ªóng
    deactivate DB
    
    System --> UI : returnEmpty()
    activate UI
    UI --> User : Th√¥ng b√°o kh√¥ng c√≥ d·ªØ li·ªáu
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC20 -->
        <div id="uc20" class="section">
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC20: Qu·∫£n l√Ω t√†i kho·∫£n</h2>
                    <span class="badge badge-admin">Admin</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('Qu·∫£n l√Ω t√†i kho·∫£n')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc20-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng -->
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc20-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC020
                            <button onclick="copyText('UC020')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Qu·∫£n l√Ω t√†i kho·∫£n
                            <button onclick="copyText('Qu·∫£n l√Ω t√†i kho·∫£n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Admin
                            <button onclick="copyText('Admin')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác qu·∫£n l√Ω t√†i kho·∫£n Th·ªß th∆∞ v√† B·∫°n ƒë·ªçc
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác qu·∫£n l√Ω t√†i kho·∫£n Th·ªß th∆∞ v√† B·∫°n ƒë·ªçc')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Truy c·∫≠p Qu·∫£n l√Ω t√†i kho·∫£n<br>2. Ch·ªçn lo·∫°i t√†i kho·∫£n (Th·ªß th∆∞/B·∫°n ƒë·ªçc)<br>3. Th√™m/Kh√≥a/M·ªü kh√≥a t√†i kho·∫£n
                            <br><button onclick="copyText('1. Truy c·∫≠p Qu·∫£n l√Ω t√†i kho·∫£n\n2. Ch·ªçn lo·∫°i t√†i kho·∫£n (Th·ªß th∆∞/B·∫°n ƒë·ªçc)\n3. Th√™m/Kh√≥a/M·ªü kh√≥a t√†i kho·∫£n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            4. X√°c th·ª±c th√¥ng tin<br>5. T·∫°o t√†i kho·∫£n m·ªõi (n·∫øu th√™m)<br>6. G·ª≠i email th√¥ng b√°o<br>7. C·∫≠p nh·∫≠t tr·∫°ng th√°i t√†i kho·∫£n
                            <br><button onclick="copyText('4. X√°c th·ª±c th√¥ng tin\n5. T·∫°o t√†i kho·∫£n m·ªõi (n·∫øu th√™m)\n6. G·ª≠i email th√¥ng b√°o\n7. C·∫≠p nh·∫≠t tr·∫°ng th√°i t√†i kho·∫£n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Admin ƒë√£ ƒëƒÉng nh·∫≠p
                            <button onclick="copyText('Admin ƒë√£ ƒëƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            T√†i kho·∫£n ƒë∆∞·ª£c t·∫°o/c·∫≠p nh·∫≠t th√†nh c√¥ng
                            <button onclick="copyText('T√†i kho·∫£n ƒë∆∞·ª£c t·∫°o/c·∫≠p nh·∫≠t th√†nh c√¥ng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "Admin" as User
usecase "Qu·∫£n l√Ω t√†i kho·∫£n" as UC_Quanlytaikhoan

usecase "Ph√¢n quy·ªÅn" as UC_Phanquyen
UC_Quanlytaikhoan <.. UC_Phanquyen : <<extend>>

User -- UC_Quanlytaikhoan
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| Admin
|UI| Giao di·ªán
|System| H·ªá th·ªëng

|User|
start
:Ch·ªçn nh√¢n vi√™n;
|UI|
:Form ph√¢n quy·ªÅn;
repeat
|User|
:Ch·ªçn vai tr√≤ m·ªõi;
:L∆∞u ph√¢n quy·ªÅn;
|System|
:Ki·ªÉm tra quy·ªÅn h·∫°n;
if (H·ª£p l·ªá?) then (no)
  |UI|
  :B√°o l·ªói;
  :Y√™u c·∫ßu nh·∫≠p l·∫°i;
else (yes)
  |System|
  :C·∫≠p nh·∫≠t quy·ªÅn h·∫°n;
  stop
endif
repeat while (Th·ª≠ l·∫°i)
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± ql t√†i kho·∫£n
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "Admin" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o ql t√†i kho·∫£n ==

activate User
User -> UI : V√†o qu·∫£n l√Ω User
activate UI
UI --> User : Danh s√°ch nh√¢n vi√™n
deactivate UI

User -> UI : C·∫•p quy·ªÅn
activate UI
User -> UI : L∆∞u ph√¢n quy·ªÅn

UI -> System : updateRole()
activate System
System -> DB : saveRole()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : updateRoleSuccess()
    activate UI
    UI --> User : Ph√¢n quy·ªÅn th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : updateRoleFail()
    activate UI
    UI --> User : L·ªói
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC21 -->
        <div id="uc21" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC21: Ph√¢n quy·ªÅn t√†i kho·∫£n</h2>
                    <span class="badge badge-admin">Admin</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('Ph√¢n quy·ªÅn t√†i kho·∫£n')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc21-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc21-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC021
                            <button onclick="copyText('UC021')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Ph√¢n quy·ªÅn t√†i kho·∫£n
                            <button onclick="copyText('Ph√¢n quy·ªÅn t√†i kho·∫£n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Admin
                            <button onclick="copyText('Admin')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác qu·∫£n l√Ω quy·ªÅn h·∫°n c·ªßa c√°c t√†i kho·∫£n
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác qu·∫£n l√Ω quy·ªÅn h·∫°n c·ªßa c√°c t√†i kho·∫£n')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Truy c·∫≠p Ph√¢n quy·ªÅn<br>2. Ch·ªçn t√†i kho·∫£n<br>3. G√°n ho·∫∑c thu h·ªìi quy·ªÅn
                            <br><button onclick="copyText('1. Truy c·∫≠p Ph√¢n quy·ªÅn\n2. Ch·ªçn t√†i kho·∫£n\n3. G√°n ho·∫∑c thu h·ªìi quy·ªÅn')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            4. Hi·ªÉn th·ªã quy·ªÅn hi·ªán t·∫°i<br>5. C·∫≠p nh·∫≠t quy·ªÅn m·ªõi<br>6. Th√¥ng b√°o th√†nh c√¥ng
                            <br><button onclick="copyText('4. Hi·ªÉn th·ªã quy·ªÅn hi·ªán t·∫°i\n5. C·∫≠p nh·∫≠t quy·ªÅn m·ªõi\n6. Th√¥ng b√°o th√†nh c√¥ng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Admin ƒë√£ ƒëƒÉng nh·∫≠p
                            <button onclick="copyText('Admin ƒë√£ ƒëƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Quy·ªÅn h·∫°n t√†i kho·∫£n ƒë∆∞·ª£c c·∫≠p nh·∫≠t
                            <button onclick="copyText('Quy·ªÅn h·∫°n t√†i kho·∫£n ƒë∆∞·ª£c c·∫≠p nh·∫≠t')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "Admin" as User
usecase "Ph√¢n quy·ªÅn" as UC_Phanquyen


User -- UC_Phanquyen
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| Admin
|UI| Giao di·ªán
|System| H·ªá th·ªëng

|User|
start
:C·∫•u h√¨nh nh√≥m quy·ªÅn;
|UI|
:B·∫£ng ch·ª©c nƒÉng;
repeat
|User|
:T√≠ch ch·ªçn quy·ªÅn h·∫°n;
:L∆∞u c·∫•u h√¨nh;
|System|
:Ki·ªÉm tra logic;
if (Kh√¥ng xung ƒë·ªôt?) then (no)
  |UI|
  :B√°o xung ƒë·ªôt quy·ªÅn;
  :Y√™u c·∫ßu nh·∫≠p l·∫°i;
else (yes)
  |System|
  :C·∫≠p nh·∫≠t h·ªá th·ªëng;
  stop
endif
repeat while (Th·ª≠ l·∫°i)
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± ph√¢n quy·ªÅn
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "Admin" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o ph√¢n quy·ªÅn ==

activate User
User -> UI : Ch·ªçn nh√≥m quy·ªÅn
activate UI
UI --> User : B·∫£ng ch·ª©c nƒÉng
deactivate UI

User -> UI : T√≠ch ch·ªçn quy·ªÅn
activate UI
User -> UI : L∆∞u c·∫•u h√¨nh

UI -> System : savePermissions()
activate System
System -> DB : updatePerms()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : savePermissionsSuccess()
    activate UI
    UI --> User : L∆∞u th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : savePermissionsFail()
    activate UI
    UI --> User : L·ªói
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC22 -->
        <div id="uc22" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC22: C·∫•u h√¨nh quy ƒë·ªãnh h·ªá th·ªëng</h2>
                    <span class="badge badge-admin">Admin</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('C·∫•u h√¨nh quy ƒë·ªãnh h·ªá th·ªëng')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc22-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc22-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC022
                            <button onclick="copyText('UC022')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            C·∫•u h√¨nh quy ƒë·ªãnh h·ªá th·ªëng
                            <button onclick="copyText('C·∫•u h√¨nh quy ƒë·ªãnh h·ªá th·ªëng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Admin
                            <button onclick="copyText('Admin')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác c·∫•u h√¨nh c√°c quy ƒë·ªãnh ho·∫°t ƒë·ªông c·ªßa th∆∞ vi·ªán
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác c·∫•u h√¨nh c√°c quy ƒë·ªãnh ho·∫°t ƒë·ªông c·ªßa th∆∞ vi·ªán')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Truy c·∫≠p C√†i ƒë·∫∑t<br>2. Thay ƒë·ªïi c√°c tham s·ªë (s·ªë s√°ch t·ªëi ƒëa, th·ªùi h·∫°n m∆∞·ª£n, m·ª©c ph·∫°t...)
                            <br><button onclick="copyText('1. Truy c·∫≠p C√†i ƒë·∫∑t\n2. Thay ƒë·ªïi c√°c tham s·ªë (s·ªë s√°ch t·ªëi ƒëa, th·ªùi h·∫°n m∆∞·ª£n, m·ª©c ph·∫°t...)')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            3. X√°c th·ª±c gi√° tr·ªã m·ªõi<br>4. L∆∞u c√†i ƒë·∫∑t<br>5. Ghi log thay ƒë·ªïi
                            <br><button onclick="copyText('3. X√°c th·ª±c gi√° tr·ªã m·ªõi\n4. L∆∞u c√†i ƒë·∫∑t\n5. Ghi log thay ƒë·ªïi')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Admin ƒë√£ ƒëƒÉng nh·∫≠p
                            <button onclick="copyText('Admin ƒë√£ ƒëƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            C√†i ƒë·∫∑t h·ªá th·ªëng ƒë∆∞·ª£c c·∫≠p nh·∫≠t
                            <button onclick="copyText('C√†i ƒë·∫∑t h·ªá th·ªëng ƒë∆∞·ª£c c·∫≠p nh·∫≠t')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "Admin" as User
usecase "C·∫•u h√¨nh h·ªá th·ªëng" as UC_Cauhinhhethong


User -- UC_Cauhinhhethong
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| Admin
|UI| Giao di·ªán
|System| H·ªá th·ªëng

|User|
start
:V√†o C·∫•u h√¨nh h·ªá th·ªëng;
|UI|
:Form tham s·ªë quy ƒë·ªãnh;
repeat
|User|
:S·ª≠a gi√° tr·ªã quy ƒë·ªãnh;
:L∆∞u thay ƒë·ªïi;
|System|
:Validate gi√° tr·ªã;
if (Trong kho·∫£ng cho ph√©p?) then (no)
  |UI|
  :B√°o gi√° tr·ªã kh√¥ng h·ª£p l·ªá;
  :Y√™u c·∫ßu nh·∫≠p l·∫°i;
else (yes)
  |System|
  :L∆∞u c·∫•u h√¨nh m·ªõi;
  stop
endif
repeat while (Th·ª≠ l·∫°i)
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± c·∫•u h√¨nh
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "Admin" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o c·∫•u h√¨nh ==

activate User
User -> UI : V√†o trang C·∫•u h√¨nh
activate UI
UI --> User : Form tham s·ªë
deactivate UI

User -> UI : S·ª≠a quy ƒë·ªãnh
activate UI
User -> UI : L∆∞u tham s·ªë

UI -> System : updateConfig()
activate System
System -> DB : saveConfig()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt D·ªØ li·ªáu h·ª£p l·ªá
    DB --> System : Th√¥ng tin h·ª£p l·ªá
    deactivate DB
    
    System -> UI : updateConfigSuccess()
    activate UI
    UI --> User : L∆∞u th√†nh c√¥ng
    UI -> User : Chuy·ªÉn h∆∞·ªõng / C·∫≠p nh·∫≠t
    deactivate UI
else D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
    DB --> System : L·ªói / Kh√¥ng t·ªìn t·∫°i
    deactivate DB
    
    System --> UI : updateConfigFail()
    activate UI
    UI --> User : Gi√° tr·ªã kh√¥ng h·ª£p l·ªá
    UI --> User : Quay l·∫°i m√†n h√¨nh c≈©
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

        <!-- UC23 -->
        <div id="uc23" class="section">
            
            <div class="section-header">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <h2 class="section-title">UC23: Xem b√°o c√°o</h2>
                    <span class="badge badge-admin">Admin</span>
                </div>
                <div class="copy-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button onclick="copyText('Xem b√°o c√°o')" class="copy-btn" title="Copy t√™n ch·ª©c nƒÉng">
                        Copy T√™n
                    </button>
                    <button onclick="copyText(document.getElementById('uc23-desc').innerText)" class="copy-btn" title="Copy m√¥ t·∫£">
                        Copy M√¥ t·∫£
                    </button>
                </div>
            </div>
            
            
            <!-- M√¥ t·∫£ ch·ª©c nƒÉng d·∫°ng b·∫£ng -->
            <div class="function-description" id="uc23-desc" style="margin-bottom: 20px;">
                <table class="desc-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; width: 150px;">M√£ Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            UC023
                            <button onclick="copyText('UC023')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√™n Use Case</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Xem b√°o c√°o
                            <button onclick="copyText('Xem b√°o c√°o')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Admin
                            <button onclick="copyText('Admin')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">M√¥ t·∫£</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Use case m√¥ t·∫£ vi·ªác xem c√°c b√°o c√°o t·ªïng h·ª£p v·ªÅ ho·∫°t ƒë·ªông h·ªá th·ªëng
                            <button onclick="copyText('Use case m√¥ t·∫£ vi·ªác xem c√°c b√°o c√°o t·ªïng h·ª£p v·ªÅ ho·∫°t ƒë·ªông h·ªá th·ªëng')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc; vertical-align: top;" rowspan="2">D√≤ng s·ª± ki·ªán</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center; width: 40%;">T√°c nh√¢n</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f1f5f9; text-align: center;">H·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            1. Truy c·∫≠p B√°o c√°o<br>2. Ch·ªçn lo·∫°i b√°o c√°o<br>3. Xu·∫•t b√°o c√°o n·∫øu c·∫ßn
                            <br><button onclick="copyText('1. Truy c·∫≠p B√°o c√°o\n2. Ch·ªçn lo·∫°i b√°o c√°o\n3. Xu·∫•t b√°o c√°o n·∫øu c·∫ßn')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; vertical-align: top;">
                            4. T·ªïng h·ª£p d·ªØ li·ªáu Dashboard<br>5. Hi·ªÉn th·ªã bi·ªÉu ƒë·ªì th·ªëng k√™<br>6. Xu·∫•t file b√°o c√°o
                            <br><button onclick="copyText('4. T·ªïng h·ª£p d·ªØ li·ªáu Dashboard\n5. Hi·ªÉn th·ªã bi·ªÉu ƒë·ªì th·ªëng k√™\n6. Xu·∫•t file b√°o c√°o')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán tr∆∞·ªõc</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Admin ƒë√£ ƒëƒÉng nh·∫≠p
                            <button onclick="copyText('Admin ƒë√£ ƒëƒÉng nh·∫≠p')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px; font-weight: 600; background: #f8fafc;">ƒêi·ªÅu ki·ªán sau</td>
                        <td style="border: 1px solid #e2e8f0; padding: 10px 15px;" colspan="2">
                            Hi·ªÉn th·ªã dashboard v·ªõi d·ªØ li·ªáu th·ªëng k√™
                            <button onclick="copyText('Hi·ªÉn th·ªã dashboard v·ªõi d·ªØ li·ªáu th·ªëng k√™')" style="padding: 2px 8px; font-size: 0.7rem; background: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 8px; white-space: nowrap;">Copy</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Use Case Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
left to right direction
skinparam packageStyle rectangle
actor "Admin" as User
usecase "Xu·∫•t b√°o c√°o" as UC_Xuatbaocao


User -- UC_Xuatbaocao
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Activity Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
skinparam backgroundColor white
skinparam activity {
  BackgroundColor #FEF3C7
  BorderColor #D97706
  FontName Arial
  FontSize 13
}
skinparam swimlane {
  TitleBackgroundColor #DBEAFE
  BorderColor #1E40AF
  BorderThickness 1.5
  TitleFontName Arial
  TitleFontSize 14
  TitleFontColor #1E3A8A
}
skinparam arrow {
  Color #B45309
  Thickness 1.5
}

|User| Admin
|UI| Giao di·ªán
|System| H·ªá th·ªëng

|User|
start
:Ch·ªçn lo·∫°i b√°o c√°o;
|UI|
:Preview b√°o c√°o;
repeat
|User|
:Ch·ªçn ƒë·ªãnh d·∫°ng &amp; Th·ªùi gian;
:Xu·∫•t file;
|System|
:T·∫°o file b√°o c√°o;
if (T·∫°o th√†nh c√¥ng?) then (no)
  |UI|
  :B√°o l·ªói xu·∫•t file;
  :Y√™u c·∫ßu nh·∫≠p l·∫°i;
else (yes)
  |System|
  :T·∫£i xu·ªëng file b√°o c√°o;
  stop
endif
repeat while (Th·ª≠ l·∫°i)
@enduml'>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #475569; border-left: 4px solid var(--primary); padding-left: 10px; font-size: 0.95rem;">Sequence Diagram</h4>
                        <button onclick="copyImageFromCard(this)" class="copy-img-btn" title="Copy ·∫£nh s∆° ƒë·ªì">
                            Copy ·∫¢nh
                        </button>
                    </div>
                    <img class="plantuml-img" data-uml='@startuml
title Bi·ªÉu ƒë·ªì tu·∫ßn t·ª± b√°o c√°o
autonumber
skinparam maxMessageSize 200
skinparam wrapWidth 300

actor "Admin" as User
participant "Giao di·ªán" as UI
participant "H·ªá th·ªëng" as System
participant "CSDL" as DB

== Kh·ªüi t·∫°o b√°o c√°o ==

activate User
User -> UI : Ch·ªçn lo·∫°i b√°o c√°o
activate UI
UI --> User : Preview b√°o c√°o
deactivate UI

User -> UI : Ch·ªçn ƒë·ªãnh d·∫°ng
activate UI
User -> UI : Xu·∫•t file

UI -> System : exportReport()
activate System
System -> DB : fetchReportData()
activate DB
DB -> DB : Ki·ªÉm tra d·ªØ li·ªáu


alt C√≥ d·ªØ li·ªáu tr·∫£ v·ªÅ
    DB --> System : Danh s√°ch k·∫øt qu·∫£
    deactivate DB
    
    System -> UI : returnData()
    activate UI
    UI --> User : Hi·ªÉn th·ªã b·∫£ng d·ªØ li·ªáu
    deactivate UI
else Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu
    DB --> System : Danh s√°ch r·ªóng
    deactivate DB
    
    System --> UI : returnEmpty()
    activate UI
    UI --> User : Th√¥ng b√°o kh√¥ng c√≥ d·ªØ li·ªáu
    deactivate UI
end

deactivate System
deactivate UI
deactivate User
@enduml'>
                </div>
            </div>
        </div>

    
        >
</div>

    <script>
        const server = 'https://www.plantuml.com/plantuml/svg/';
        
        // --- Lightbox Zoom & Pan Logic ---
        const lightbox = document.getElementById('lightbox');
        const lbImg = document.getElementById('lb-img');
        let scale = 1;
        let pannedX = 0;
        let pannedY = 0;
        let isDragging = false;
        let startX = 0;
        let startY = 0;

        function updateTransform() {
            lbImg.style.transform = `translate(${pannedX}px, ${pannedY}px) scale(${scale})`;
        }

        function resetZoom() {
            scale = 1;
            pannedX = 0;
            pannedY = 0;
            updateTransform();
            lbImg.classList.remove('grabbing');
        }

        function openLightbox(src) {
            lbImg.src = src;
            resetZoom();
            lightbox.classList.add('active');
            document.querySelector('.nav-bar').style.display = 'none';
        }

        function closeLightbox() {
            lightbox.classList.remove('active');
            document.querySelector('.nav-bar').style.display = 'flex';
        }

        // Click outside image to close
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                closeLightbox();
            }
        });

        // Zoom with wheel
        lightbox.addEventListener('wheel', (e) => {
            e.preventDefault();
            const delta = e.deltaY * -0.001; 
            const newScale = Math.min(Math.max(0.5, scale + delta), 5); // Limit 0.5x - 5x
            
            // Optional: Zoom towards mouse pointer logic could be added here for precision
            // For now, simple center zoom:
            scale = newScale;
            updateTransform();
        }, { passive: false });

        // Drag (Pan) logic
        lbImg.addEventListener('mousedown', (e) => {
            if (e.button !== 0) return; // Only left click
            e.preventDefault();
            isDragging = true;
            startX = e.clientX - pannedX;
            startY = e.clientY - pannedY;
            lbImg.classList.add('grabbing');
        });

        window.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            e.preventDefault();
            pannedX = e.clientX - startX;
            pannedY = e.clientY - startY;
            updateTransform();
        });

        window.addEventListener('mouseup', () => {
            isDragging = false;
            lbImg.classList.remove('grabbing');
        });

        // Initialize PlantUML images
        document.querySelectorAll('img.plantuml-img').forEach(img => {
            const uml = img.getAttribute('data-uml');
            if (uml && typeof plantumlEncoder !== 'undefined') {
                img.src = server + plantumlEncoder.encode(uml);
                img.onclick = () => openLightbox(img.src);
            }
        });
        document.querySelectorAll('.nav-bar a').forEach(a => {
            a.addEventListener('click', function() {
                document.querySelectorAll('.nav-bar a').forEach(x => x.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Toast notification element
        let toastElement = document.createElement('div');
        toastElement.className = 'toast';
        document.body.appendChild(toastElement);

        // Show toast notification
        function showToast(message) {
            toastElement.textContent = message;
            toastElement.classList.add('show');
            setTimeout(() => {
                toastElement.classList.remove('show');
            }, 2000);
        }

        // Copy text to clipboard
        function copyText(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast('‚úì ƒê√£ copy v√†o clipboard!');
            }).catch(err => {
                console.error('Copy failed:', err);
                // Fallback for older browsers
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                showToast('‚úì ƒê√£ copy v√†o clipboard!');
            });
        }

        // Copy image from card to clipboard
        async function copyImageFromCard(button) {
            const card = button.closest('.card');
            const img = card.querySelector('img.plantuml-img');
            
            if (!img || !img.src) {
                showToast('‚ö†Ô∏è Kh√¥ng t√¨m th·∫•y ·∫£nh!');
                return;
            }

            // Change button state
            const originalText = button.innerHTML;
            button.innerHTML = '‚è≥ ƒêang copy...';
            button.disabled = true;

            try {
                // Fetch image and convert to blob
                const response = await fetch(img.src);
                const blob = await response.blob();
                
                // Create a canvas to convert SVG to PNG (for clipboard compatibility)
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                const svgImg = new Image();
                
                svgImg.onload = async function() {
                    canvas.width = svgImg.width || 800;
                    canvas.height = svgImg.height || 600;
                    
                    // Fill white background
                    ctx.fillStyle = 'white';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    ctx.drawImage(svgImg, 0, 0);
                    
                    try {
                        // Convert canvas to blob and copy to clipboard
                        canvas.toBlob(async function(pngBlob) {
                            try {
                                await navigator.clipboard.write([
                                    new ClipboardItem({
                                        'image/png': pngBlob
                                    })
                                ]);
                                showToast('‚úì ƒê√£ copy ·∫£nh v√†o clipboard!');
                                button.classList.add('copied');
                            } catch (clipErr) {
                                // Fallback: download image instead
                                console.log('Clipboard API not supported, downloading instead');
                                const a = document.createElement('a');
                                a.href = URL.createObjectURL(pngBlob);
                                a.download = 'diagram.png';
                                a.click();
                                showToast('‚úì ƒê√£ t·∫£i ·∫£nh xu·ªëng!');
                            }
                        }, 'image/png');
                    } catch (err) {
                        console.error('Canvas conversion failed:', err);
                        showToast('‚ö†Ô∏è L·ªói khi copy ·∫£nh!');
                    }
                    
                    // Reset button
                    button.innerHTML = originalText;
                    button.disabled = false;
                    setTimeout(() => button.classList.remove('copied'), 2000);
                };
                
                svgImg.onerror = function() {
                    showToast('‚ö†Ô∏è Kh√¥ng th·ªÉ t·∫£i ·∫£nh!');
                    button.innerHTML = originalText;
                    button.disabled = false;
                };
                
                svgImg.src = img.src;
                
            } catch (err) {
                console.error('Copy image failed:', err);
                showToast('‚ö†Ô∏è L·ªói khi copy ·∫£nh!');
                button.innerHTML = originalText;
                button.disabled = false;
            }
        }
    </script>
</body>
</html>
